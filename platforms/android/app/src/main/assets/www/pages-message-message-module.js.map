{"version":3,"sources":["./src/app/pages/message/message.page.html","./src/app/pages/message/message.module.ts","./src/app/pages/message/message.page.scss","./src/app/pages/message/message.page.ts"],"names":[],"mappings":"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","file":"pages-message-message-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar class=\\\"tool\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button mode=\\\"md\\\" defaultHref=\\\"messages\\\">\\n        <ion-icon  style=\\\"color: #351010; font-size: 26px; margin-left: 0px;\\\"\\n      icon=\\\"../../../../assets/icons/chevron-back.svg\\\" ></ion-icon>\\n    </ion-back-button>\\n    </ion-buttons>\\n    <ion-item lines=\\\"none\\\" style=\\\"--background: transparent;--padding-start: 0px;\\\">\\n      <ion-avatar slot=\\\"start\\\">\\n        <img [src]=\\\"avatar\\\" onError=\\\"this.src='./assets/images/default-dp.png'\\\" alt=\\\"\\\">\\n      </ion-avatar>\\n      <ion-label>\\n        <h5 class=\\\"usertitle\\\">{{title}}</h5>\\n      </ion-label>\\n    </ion-item>\\n    <ion-buttons slot=\\\"end\\\">\\n      <img\\n      id=\\\"hide\\\"\\n      alt=\\\"appicon\\\"\\n      height=\\\"22\\\"\\n      class=\\\"ion-float-right\\\"\\n      src=\\\"assets/images/logo1.png\\\"\\n    />\\n\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [scrollEvents]=\\\"true\\\" #content>\\n  <div class=\\\"messages\\\" #contentArea>\\n    <p class=\\\"center\\\" *ngIf=\\\"startIndex > 0\\\"><span tappable (click)=\\\"loadPreviousMessages()\\\">Load previous\\n        messages</span></p>\\n    <div *ngFor=\\\"let message of messagesToShow; let i = index;\\\">\\n      \\n      <ion-item-sliding *ngIf=\\\"isSender(message)\\\" id=\\\"slidingItem{{message.id}}\\\" (ionDrag)=\\\"drag($event, message)\\\">\\n        <ion-item-options side=\\\"start\\\">\\n          <ion-item-option style=\\\"display: none;\\\">Reply</ion-item-option>\\n        </ion-item-options>\\n        <div class=\\\"chatbox right sender\\\"  style=\\\"margin-right: 0px; padding-right: 0px;\\\">\\n          <ion-item style=\\\"border-radius: 20px; \\\"  lines=\\\"none\\\">\\n            <ion-label style=\\\"padding: 10px 10px 5px 10px; border-radius: 10px; border: 0.5px solid rgb(185, 185, 185); box-shadow: 1px 1px 4px var(--ion-color-light-shade);\\\">\\n              <div  *ngIf=\\\"message.type == 'text'\\\">\\n                <div class=\\\"reply-view-header\\\" *ngIf=\\\"message.replyToMessage\\\" (click)=\\\"scrollTo('slidingItem' + getRepliedMessage(message.replyTo).id)\\\">\\n                  <h5>{{getRepliedMessage(message.replyTo).displayName}}</h5>\\n                  <p *ngIf=\\\"message.replyToMessageType === 'text'\\\" [innerHTML]=\\\"getMessage(message.replyToMessage)\\\"></p>\\n                  <p *ngIf=\\\"message.replyToMessageType === 'location'\\\">Location Shared</p>\\n                  <img *ngIf=\\\"message.replyToMessageType === 'image'\\\" [src]=\\\"message.replyToMessage\\\" alt=\\\"\\\">\\n                  <video id=\\\"video-post\\\" *ngIf=\\\"message.replyToMessageType === 'video'\\\">\\n                    <source src=\\\"{{message.replyToMessage}}\\\" type=\\\"video/mp4\\\">\\n                  </video>\\n                </div>\\n                <p style=\\\"margin:0; float: left; text-align: left;  padding-left: 5px; padding-right: 5px;\\\" [innerHTML]=\\\"getMessage(message.message)\\\"></p>\\n              </div>\\n              <br>\\n              <div  *ngIf=\\\"message.type == 'location'\\\"  [innerHtml]=\\\"message.message\\\"></div>\\n              <div *ngIf=\\\"message.type == 'image'\\\">\\n                <img tappable (click)=\\\"enlargeImage(message.message)\\\" src=\\\"{{message.message}}\\\" /></div>\\n              <div *ngIf=\\\"message.type == 'video'\\\">\\n                <video  id=\\\"video-post\\\" loop controls width=\\\"100%\\\">\\n                  <source src=\\\"{{message.message}}\\\" type=\\\"video/mp4\\\">\\n                </video>\\n              </div>\\n              <ion-icon style=\\\"margin-top: 3px; float: left; text-align: left;\\\" name=\\\"md-more\\\" (click)=\\\"openMsgOption(message.id, i)\\\"></ion-icon>\\n              <span>{{message.date | DateFormat}}</span>\\n            </ion-label>\\n          </ion-item>\\n        </div>\\n      </ion-item-sliding>\\n \\n      <ion-item-sliding *ngIf=\\\"!isSender(message)\\\" id=\\\"slidingItem{{message.id}}\\\" (ionDrag)=\\\"drag($event, message)\\\">\\n        <ion-item-options side=\\\"start\\\">\\n          <ion-item-option style=\\\"display: none;\\\">Reply</ion-item-option>\\n        </ion-item-options>\\n\\n        \\n        <div class=\\\"chatbox left\\\" >\\n          <ion-item style=\\\"border-radius: 20px; \\\"  lines=\\\"none\\\">\\n            <ion-label style=\\\"padding: 10px 10px 5px 10px; border-radius: 10px; border: 0.5px solid rgb(185, 185, 185); box-shadow: 1px 1px 4px var(--ion-color-light-shade); \\\">\\n              <div style=\\\"margin:0;\\\" *ngIf=\\\"message.type == 'text'\\\">\\n                <div class=\\\"reply-view-header\\\" *ngIf=\\\"message.replyToMessage\\\" (click)=\\\"scrollTo('slidingItem' + getRepliedMessage(message.replyTo).id)\\\">\\n                  <h5>{{getRepliedMessage(message.replyTo).displayName}}</h5>\\n                  <p *ngIf=\\\"message.replyToMessageType === 'text'\\\" [innerHTML]=\\\"getMessage(message.replyToMessage)\\\"></p>\\n                  <p *ngIf=\\\"message.replyToMessageType === 'location'\\\">Location Shared</p>\\n                  <img *ngIf=\\\"message.replyToMessageType === 'image'\\\" [src]=\\\"message.replyToMessage\\\" alt=\\\"\\\">\\n                  <video id=\\\"video-post\\\" *ngIf=\\\"message.replyToMessageType === 'video'\\\">\\n                    <source src=\\\"{{message.replyToMessage}}\\\" type=\\\"video/mp4\\\">\\n                  </video>\\n                </div>\\n                <p [innerHTML]=\\\"getMessage(message.message)\\\"></p>\\n              </div>\\n              <div *ngIf=\\\"message.type == 'location'\\\" [innerHtml]=\\\"message.message\\\"></div>\\n              <div *ngIf=\\\"message.type == 'image'\\\">\\n                <img tappable (click)=\\\"enlargeImage(message.message)\\\" src=\\\"{{message.message}}\\\" (load)=\\\"scrollBottom()\\\" />\\n              </div>\\n              <div *ngIf=\\\"message.type == 'video'\\\">\\n                <video controls width=\\\"100%\\\">\\n                  <source src=\\\"{{message.message}}\\\" type=\\\"video/mp4\\\">\\n                </video>\\n              </div>\\n              <span>{{message.date | DateFormat}}</span>\\n            </ion-label>\\n          </ion-item>\\n          \\n        </div>\\n      </ion-item-sliding>\\n     \\n    </div>\\n\\n  </div>\\n\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"start\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button class=\\\"colr\\\" color=\\\"light\\\"  (click)=\\\"loadPreviousMessages()\\\">\\n      <ion-icon class=\\\"colr\\\" name=\\\"ios-arrow-down\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n  <br>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar style=\\\"--background: #eeeeee7d;padding-top: 5px;\\\">\\n    <ion-item lines=\\\"none\\\" style=\\\"--background: #f7f7f7;\\\" *ngIf=\\\"replyMessage.message\\\">\\n      <ion-label class=\\\"reply\\\">\\n        <h6>{{replyMessage.displayName}}</h6>\\n        <p *ngIf=\\\"replyMessage.type === 'text'\\\">{{replyMessage.message}}</p>\\n        <p *ngIf=\\\"replyMessage.type === 'location'\\\">Location Shared</p>\\n        <img *ngIf=\\\"replyMessage.type === 'image'\\\" [src]=\\\"replyMessage.message\\\" class=\\\"reply-img\\\">\\n        <video id=\\\"video-post\\\" *ngIf=\\\"replyMessage.type === 'video'\\\" class=\\\"reply-img\\\">\\n          <source src=\\\"{{replyMessage.message}}\\\" type=\\\"video/mp4\\\">\\n        </video>\\n      </ion-label>\\n      <ion-icon name=\\\"close\\\" slot=\\\"end\\\" (click)=\\\"replyMessage.message = null;replyMessage.id = null;\\\"></ion-icon>\\n    </ion-item>\\n\\n    <ion-button slot=\\\"start\\\" fill=\\\"clear\\\" (click)=\\\"attach()\\\">\\n      <ion-icon src=\\\"../../../assets/icons/attach.svg\\\"></ion-icon>\\n    </ion-button>\\n    \\n     \\n\\n    <textarea class=\\\"grow\\\"\\n    autosize\\n    maxrow=\\\"4\\\"\\n    useImportant=\\\"true\\\"\\n    [(ngModel)]=\\\"message\\\"      \\n    #myInput\\n    placeholder=\\\"{{ 'feed-comment-component.placeholder' | translate }}\\\"\\n    ></textarea>\\n    \\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-button class=\\\"circle\\\" fill=\\\"clear\\\" color=\\\"primary\\\" (click)=\\\"send('text')\\\" [disabled]=\\\"!message\\\">\\n                <ion-icon src=\\\"assets/icons/send.svg\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n    </ion-toolbar>\\n\\n\\n</ion-footer>\\n\\n<input\\n  hidden\\n  #fileInputButton\\n  type=\\\"file\\\"\\n  (change)=\\\"detectFiles($event)\\\"\\n  multiple\\n/>\\n<input hidden #videoInputButton type=\\\"file\\\" (change)=\\\"detectVideo($event)\\\" />\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MessagePage } from './message.page';\nimport { SharedModule } from 'src/shared/shared.module';\nimport { ImageModalComponent } from 'src/app/components/image-modal/image-modal.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MessagePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MessagePage],\n  entryComponents: [],\n  providers: [\n    \n  ]\n})\nexport class MessagePageModule {}\n","export default \":host .title-img {\\n  width: 30px;\\n  height: 30px;\\n  border-radius: 50%;\\n  background-size: contain !important;\\n  background-color: var(--ion-color-light-shade);\\n  margin-right: 10px;\\n  border: 1px solid var(--ion-color-light-shade);\\n}\\n:host .clear {\\n  clear: both;\\n}\\n:host .content-wrapper {\\n  height: 100%;\\n}\\n:host .content-wrapper .from-me,\\n:host .content-wrapper .from-them {\\n  position: relative;\\n  border-radius: 1em;\\n  margin: 10px 0;\\n  overflow: hidden;\\n}\\n:host .content-wrapper .from-me .image,\\n:host .content-wrapper .from-them .image {\\n  width: 200px;\\n  height: 200px;\\n}\\n:host .content-wrapper .from-me .image-group,\\n:host .content-wrapper .from-them .image-group {\\n  display: grid;\\n  grid-template-columns: repeat(2, 1fr);\\n  grid-auto-rows: auto;\\n  grid-gap: 0.5rem;\\n  padding: 10px 10px 5px;\\n  border-top-left-radius: 1em;\\n}\\n:host .content-wrapper .from-me .image-group .image-group-image,\\n:host .content-wrapper .from-them .image-group .image-group-image {\\n  height: 100px;\\n  width: 100px;\\n  border: 1px solid var(--ion-color-medium);\\n  border-radius: 1em;\\n}\\n:host .content-wrapper .from-me .text,\\n:host .content-wrapper .from-them .text {\\n  padding: 10px 20px;\\n  margin: 0;\\n}\\n:host .content-wrapper .from-me .text ::ng-deep p,\\n:host .content-wrapper .from-them .text ::ng-deep p {\\n  margin: 0;\\n}\\n:host .content-wrapper .from-me .text ::ng-deep a,\\n:host .content-wrapper .from-them .text ::ng-deep a {\\n  color: var(--ion-color-success);\\n}\\n:host .content-wrapper .from-me {\\n  color: var(--ion-color-dark);\\n  background: var(--ion-color-light-shade);\\n  border-top-right-radius: 0px;\\n  float: right;\\n}\\n:host .content-wrapper .from-them {\\n  background: var(--ion-color-gradient);\\n  border-top-left-radius: 0px;\\n  color: var(--ion-color-light);\\n  float: left;\\n}\\n:host ion-label {\\n  background-color: white;\\n  margin: 0px;\\n}\\n:host ion-content {\\n  --ion-background-color:#ebebeb;\\n}\\n:host .chatbox span {\\n  float: right;\\n  padding-top: 5px;\\n  font-size: 12px;\\n}\\n:host .chatbox.left p {\\n  color: black;\\n  font-size: 17px;\\n  margin: 0;\\n  white-space: break-spaces;\\n}\\n:host .chatbox a {\\n  background-color: #dedee0;\\n}\\n:host .chatbox.left {\\n  margin-left: -10px;\\n  color: white;\\n}\\n:host .chatbox.right.sender {\\n  color: black;\\n}\\n:host .ion-float-right {\\n  margin-right: 15px;\\n}\\n:host ion-footer .grow {\\n  padding: 5px 10px;\\n  overflow: hidden;\\n  height: 35px !important;\\n  width: calc(100% - 20px);\\n  border: 0.1px solid lightgray;\\n  outline: none;\\n  resize: none;\\n  margin: 5px 10px 0px;\\n  border-radius: 20px;\\n}\\n.tool {\\n  box-shadow: 0px 0.2px 0px #a8a8a8 !important;\\n}\\n.colr {\\n  margin-left: -4px;\\n  margin-bottom: -3px;\\n  font-size: 20px;\\n  --box-shadow:none;\\n  outline: none;\\n}\\n.ion-color-light {\\n  --ion-color-base: #f4f5f800 !important;\\n  --ion-color-base-rgb: var(--ion-color-light-rgb, 244, 245, 248) !important;\\n  --ion-color-contrast: #000 !important;\\n  --ion-color-contrast-rgb: var(--ion-color-light-contrast-rgb, 0, 0, 0) !important;\\n  --ion-color-shade: var(--ion-color-light-shade, #d7d8da) !important;\\n  --ion-color-tint: var(--ion-color-light-tint, #f5f6f9) !important;\\n}\\n.usertitle {\\n  font-weight: 600;\\n  font-size: 14px;\\n}\\n.reply {\\n  border-left: 2px solid orangered;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n}\\n.reply-view-header {\\n  background: #3880ff30;\\n  padding: 5px;\\n  border-radius: 5px;\\n  text-align: left;\\n  border-left: 2px solid blue;\\n  margin-bottom: 7px;\\n}\\n.reply-view-header h5 {\\n  margin: 0;\\n  font-size: 13px;\\n  font-weight: 600;\\n}\\n.reply-view-header p {\\n  font-size: 13px;\\n  white-space: nowrap !important;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n}\\n.reply-view-header img {\\n  width: 30px;\\n  height: 30px;\\n  margin-top: 9px;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n.reply-view-header video {\\n  width: 30px;\\n  height: 30px;\\n  margin-top: 9px;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\nion-item {\\n  --background: transparent;\\n}\\n.blur {\\n  -webkit-animation: blink 1s;\\n          animation: blink 1s;\\n  /* IE 10+, Fx 29+ */\\n}\\n@-webkit-keyframes blink {\\n  0%, 49% {\\n    background-color: #ddd;\\n  }\\n  50%, 100% {\\n    background-color: transparent;\\n  }\\n}\\n@keyframes blink {\\n  0%, 49% {\\n    background-color: #ddd;\\n  }\\n  50%, 100% {\\n    background-color: transparent;\\n  }\\n}\\n.reply-img {\\n  width: 30px;\\n  height: 30px;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNib29rL0Rlc2t0b3AvQ2xpZW50cy9kci9zcmMvYXBwL3BhZ2VzL21lc3NhZ2UvbWVzc2FnZS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL21lc3NhZ2UvbWVzc2FnZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsbUNBQUE7RUFDQSw4Q0FBQTtFQUNBLGtCQUFBO0VBQ0EsOENBQUE7QUNBSjtBREVFO0VBQ0UsV0FBQTtBQ0FKO0FER0U7RUFDRSxZQUFBO0FDREo7QURJSTs7RUFFRSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0FDRk47QURJTTs7RUFDRSxZQUFBO0VBQ0EsYUFBQTtBQ0RSO0FESU07O0VBQ0UsYUFBQTtFQUNBLHFDQUFBO0VBQ0Esb0JBQUE7RUFDQSxnQkFBQTtFQUNBLHNCQUFBO0VBQ0EsMkJBQUE7QUNEUjtBREdROztFQUNFLGFBQUE7RUFDQSxZQUFBO0VBQ0EseUNBQUE7RUFDQSxrQkFBQTtBQ0FWO0FESU07O0VBQ0Usa0JBQUE7RUFDQSxTQUFBO0FDRFI7QURJVTs7RUFDRSxTQUFBO0FDRFo7QURJVTs7RUFDRSwrQkFBQTtBQ0RaO0FET0k7RUFDRSw0QkFBQTtFQUNBLHdDQUFBO0VBQ0EsNEJBQUE7RUFDQSxZQUFBO0FDTE47QURTSTtFQUNFLHFDQUFBO0VBQ0EsMkJBQUE7RUFDQSw2QkFBQTtFQUNBLFdBQUE7QUNQTjtBRGNFO0VBQ0UsdUJBQUE7RUFDQSxXQUFBO0FDWko7QURjRTtFQUVFLDhCQUFBO0FDYko7QURnQkE7RUFDRSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0FDZEY7QURpQkE7RUFDRSxZQUFBO0VBQ0EsZUFBQTtFQUNBLFNBQUE7RUFDQSx5QkFBQTtBQ2ZGO0FEa0JBO0VBQ0MseUJBQUE7QUNoQkQ7QURvQkE7RUFDRSxrQkFBQTtFQUNBLFlBQUE7QUNsQkY7QURzQkE7RUFFQSxZQUFBO0FDckJBO0FEeUJBO0VBQ0Esa0JBQUE7QUN2QkE7QUQ0QkU7RUFDRSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsdUJBQUE7RUFDQSx3QkFBQTtFQUNBLDZCQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7RUFDQSxvQkFBQTtFQUNBLG1CQUFBO0FDMUJKO0FEK0JBO0VBQ0UsNENBQUE7QUM1QkY7QUQrQkM7RUFHRyxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtBQzlCSjtBRGlDRTtFQUNFLHNDQUFBO0VBQ0EsMEVBQUE7RUFDQSxxQ0FBQTtFQUNBLGlGQUFBO0VBQ0EsbUVBQUE7RUFDQSxpRUFBQTtBQzlCSjtBRGlDQTtFQUNFLGdCQUFBO0VBQ0UsZUFBQTtBQzlCSjtBRGlDQTtFQUNFLGdDQUFBO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtBQzlCSjtBRGlDQTtFQUNFLHFCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSwyQkFBQTtFQUNBLGtCQUFBO0FDOUJGO0FEK0JFO0VBQ0UsU0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQzdCSjtBRCtCRTtFQUNFLGVBQUE7RUFDQSw4QkFBQTtFQUNBLHVCQUFBO0VBQ0EsZ0JBQUE7QUM3Qko7QURnQ0U7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxvQkFBQTtLQUFBLGlCQUFBO0FDOUJKO0FEaUNFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0Esb0JBQUE7S0FBQSxpQkFBQTtBQy9CSjtBRG1DQTtFQUNFLHlCQUFBO0FDaENGO0FEbUNBO0VBQ0UsMkJBQUE7VUFBQSxtQkFBQTtFQUFzQixtQkFBQTtBQy9CeEI7QURrQ0E7RUFDRTtJQUNFLHNCQUFBO0VDL0JGO0VEaUNBO0lBQ0UsNkJBQUE7RUMvQkY7QUFDRjtBRHlCQTtFQUNFO0lBQ0Usc0JBQUE7RUMvQkY7RURpQ0E7SUFDRSw2QkFBQTtFQy9CRjtBQUNGO0FEa0NBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxvQkFBQTtLQUFBLGlCQUFBO0FDaENGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbWVzc2FnZS9tZXNzYWdlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgLnRpdGxlLWltZyB7XG4gICAgd2lkdGg6IDMwcHg7XG4gICAgaGVpZ2h0OiAzMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW4gIWltcG9ydGFudDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHQtc2hhZGUpO1xuICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItbGlnaHQtc2hhZGUpO1xuICB9XG4gIC5jbGVhciB7XG4gICAgY2xlYXI6IGJvdGg7XG4gIH1cblxuICAuY29udGVudC13cmFwcGVyIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICBcblxuICAgIC5mcm9tLW1lLFxuICAgIC5mcm9tLXRoZW0ge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgYm9yZGVyLXJhZGl1czogMWVtO1xuICAgICAgbWFyZ2luOiAxMHB4IDA7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gICAgICAuaW1hZ2Uge1xuICAgICAgICB3aWR0aDogMjAwcHg7XG4gICAgICAgIGhlaWdodDogMjAwcHg7XG4gICAgICB9XG5cbiAgICAgIC5pbWFnZS1ncm91cCB7XG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcik7XG4gICAgICAgIGdyaWQtYXV0by1yb3dzOiBhdXRvO1xuICAgICAgICBncmlkLWdhcDogMC41cmVtO1xuICAgICAgICBwYWRkaW5nOiAxMHB4IDEwcHggNXB4O1xuICAgICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAxZW07XG5cbiAgICAgICAgLmltYWdlLWdyb3VwLWltYWdlIHtcbiAgICAgICAgICBoZWlnaHQ6IDEwMHB4O1xuICAgICAgICAgIHdpZHRoOiAxMDBweDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItbWVkaXVtKTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxZW07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLnRleHQge1xuICAgICAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gICAgICAgIG1hcmdpbjogMDtcblxuICAgICAgICA6Om5nLWRlZXAge1xuICAgICAgICAgIHAge1xuICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGEge1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1zdWNjZXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAuZnJvbS1tZSB7XG4gICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICAgICAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWxpZ2h0LXNoYWRlKTtcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwcHg7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICBcbiAgICB9XG5cbiAgICAuZnJvbS10aGVtIHtcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1ncmFkaWVudCk7XG4gICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwcHg7XG4gICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICBcbiAgICB9XG4gIH1cblxuIFxuICBcbiAgaW9uLWxhYmVsIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7XG4gICAgbWFyZ2luOiAgMHB4O1xuICB9XG4gIGlvbi1jb250ZW50e1xuXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjojZWJlYmViO1xufVxuXG4uY2hhdGJveCBzcGFuIHtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBwYWRkaW5nLXRvcDogNXB4O1xuICBmb250LXNpemU6IDEycHg7XG59XG5cbi5jaGF0Ym94LmxlZnQgcCB7XG4gIGNvbG9yOiByZ2IoMCwgMCwgMCk7XG4gIGZvbnQtc2l6ZTogMTdweDtcbiAgbWFyZ2luOiAwO1xuICB3aGl0ZS1zcGFjZTogYnJlYWstc3BhY2VzO1xufVxuXG4uY2hhdGJveCBhIHtcbiBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjIyLCAyMjIsIDIyNCk7XG59XG5cblxuLmNoYXRib3gubGVmdCB7XG4gIG1hcmdpbi1sZWZ0OiAtMTBweDtcbiAgY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTtcbiAgXG4gIH1cblxuLmNoYXRib3gucmlnaHQuc2VuZGVyIHtcbi8vIGJhY2tncm91bmQ6ICNjMGQ5ZmY5ODtcbmNvbG9yOiByZ2IoMCwgMCwgMCk7XG5cbn1cblxuLmlvbi1mbG9hdC1yaWdodHtcbm1hcmdpbi1yaWdodDogMTVweDtcbn1cblxuXG5pb24tZm9vdGVyIHtcbiAgLmdyb3cge1xuICAgIHBhZGRpbmc6IDVweCAxMHB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgaGVpZ2h0OiAzNXB4ICFpbXBvcnRhbnQ7XG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpO1xuICAgIGJvcmRlcjogMC4xcHggc29saWQgbGlnaHRncmF5OyBcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIHJlc2l6ZTogbm9uZTtcbiAgICBtYXJnaW46IDVweCAxMHB4IDBweDtcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICB9XG59XG59XG5cbi50b29sIHtcbiAgYm94LXNoYWRvdzogMHB4IDAuMnB4IDBweCAjYThhOGE4IWltcG9ydGFudDtcbn1cblxuIC5jb2xye1xuICBcblxuICAgIG1hcmdpbi1sZWZ0OiAtNHB4O1xuICAgIG1hcmdpbi1ib3R0b206IC0zcHg7XG4gICAgZm9udC1zaXplOiAyMHB4O1xuICAgIC0tYm94LXNoYWRvdzpub25lO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gIH1cblxuICAuaW9uLWNvbG9yLWxpZ2h0IHtcbiAgICAtLWlvbi1jb2xvci1iYXNlOiAjZjRmNWY4MDAgIWltcG9ydGFudDtcbiAgICAtLWlvbi1jb2xvci1iYXNlLXJnYjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0LXJnYiwgMjQ0LCAyNDUsIDI0OCkgIWltcG9ydGFudDtcbiAgICAtLWlvbi1jb2xvci1jb250cmFzdDogIzAwMCAhaW1wb3J0YW50O1xuICAgIC0taW9uLWNvbG9yLWNvbnRyYXN0LXJnYjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0LWNvbnRyYXN0LXJnYiwgMCwgMCwgMCkgIWltcG9ydGFudDtcbiAgICAtLWlvbi1jb2xvci1zaGFkZTogdmFyKC0taW9uLWNvbG9yLWxpZ2h0LXNoYWRlLCAjZDdkOGRhKSAhaW1wb3J0YW50O1xuICAgIC0taW9uLWNvbG9yLXRpbnQ6IHZhcigtLWlvbi1jb2xvci1saWdodC10aW50LCAjZjVmNmY5KSAhaW1wb3J0YW50O1xufVxuXG4udXNlcnRpdGxle1xuICBmb250LXdlaWdodDogNjAwO1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLnJlcGx5IHtcbiAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCBvcmFuZ2VyZWQ7XG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG59XG5cbi5yZXBseS12aWV3LWhlYWRlciB7XG4gIGJhY2tncm91bmQ6ICMzODgwZmYzMDtcbiAgcGFkZGluZzogNXB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGJvcmRlci1sZWZ0OiAycHggc29saWQgYmx1ZTtcbiAgbWFyZ2luLWJvdHRvbTogN3B4O1xuICBoNSB7XG4gICAgbWFyZ2luOiAwO1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICB9XG4gIHAge1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwICFpbXBvcnRhbnQ7XG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuXG4gIGltZyB7XG4gICAgd2lkdGg6IDMwcHg7XG4gICAgaGVpZ2h0OiAzMHB4O1xuICAgIG1hcmdpbi10b3A6IDlweDtcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgfVxuXG4gIHZpZGVvIHtcbiAgICB3aWR0aDogMzBweDtcbiAgICBoZWlnaHQ6IDMwcHg7XG4gICAgbWFyZ2luLXRvcDogOXB4O1xuICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICB9XG59XG5cbmlvbi1pdGVtIHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cblxuLmJsdXIge1xuICBhbmltYXRpb246IGJsaW5rIDFzOyAgLyogSUUgMTArLCBGeCAyOSsgKi9cbn1cblxuQGtleWZyYW1lcyBibGluayB7XG4gIDAlLCA0OSUge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNkZGQ7XG4gIH1cbiAgNTAlLCAxMDAlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgfVxufVxuXG4ucmVwbHktaW1nIHtcbiAgd2lkdGg6IDMwcHg7XG4gIGhlaWdodDogMzBweDtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG59IiwiOmhvc3QgLnRpdGxlLWltZyB7XG4gIHdpZHRoOiAzMHB4O1xuICBoZWlnaHQ6IDMwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgYmFja2dyb3VuZC1zaXplOiBjb250YWluICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1saWdodC1zaGFkZSk7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLWxpZ2h0LXNoYWRlKTtcbn1cbjpob3N0IC5jbGVhciB7XG4gIGNsZWFyOiBib3RoO1xufVxuOmhvc3QgLmNvbnRlbnQtd3JhcHBlciB7XG4gIGhlaWdodDogMTAwJTtcbn1cbjpob3N0IC5jb250ZW50LXdyYXBwZXIgLmZyb20tbWUsXG46aG9zdCAuY29udGVudC13cmFwcGVyIC5mcm9tLXRoZW0ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGJvcmRlci1yYWRpdXM6IDFlbTtcbiAgbWFyZ2luOiAxMHB4IDA7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG46aG9zdCAuY29udGVudC13cmFwcGVyIC5mcm9tLW1lIC5pbWFnZSxcbjpob3N0IC5jb250ZW50LXdyYXBwZXIgLmZyb20tdGhlbSAuaW1hZ2Uge1xuICB3aWR0aDogMjAwcHg7XG4gIGhlaWdodDogMjAwcHg7XG59XG46aG9zdCAuY29udGVudC13cmFwcGVyIC5mcm9tLW1lIC5pbWFnZS1ncm91cCxcbjpob3N0IC5jb250ZW50LXdyYXBwZXIgLmZyb20tdGhlbSAuaW1hZ2UtZ3JvdXAge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpO1xuICBncmlkLWF1dG8tcm93czogYXV0bztcbiAgZ3JpZC1nYXA6IDAuNXJlbTtcbiAgcGFkZGluZzogMTBweCAxMHB4IDVweDtcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMWVtO1xufVxuOmhvc3QgLmNvbnRlbnQtd3JhcHBlciAuZnJvbS1tZSAuaW1hZ2UtZ3JvdXAgLmltYWdlLWdyb3VwLWltYWdlLFxuOmhvc3QgLmNvbnRlbnQtd3JhcHBlciAuZnJvbS10aGVtIC5pbWFnZS1ncm91cCAuaW1hZ2UtZ3JvdXAtaW1hZ2Uge1xuICBoZWlnaHQ6IDEwMHB4O1xuICB3aWR0aDogMTAwcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xuICBib3JkZXItcmFkaXVzOiAxZW07XG59XG46aG9zdCAuY29udGVudC13cmFwcGVyIC5mcm9tLW1lIC50ZXh0LFxuOmhvc3QgLmNvbnRlbnQtd3JhcHBlciAuZnJvbS10aGVtIC50ZXh0IHtcbiAgcGFkZGluZzogMTBweCAyMHB4O1xuICBtYXJnaW46IDA7XG59XG46aG9zdCAuY29udGVudC13cmFwcGVyIC5mcm9tLW1lIC50ZXh0IDo6bmctZGVlcCBwLFxuOmhvc3QgLmNvbnRlbnQtd3JhcHBlciAuZnJvbS10aGVtIC50ZXh0IDo6bmctZGVlcCBwIHtcbiAgbWFyZ2luOiAwO1xufVxuOmhvc3QgLmNvbnRlbnQtd3JhcHBlciAuZnJvbS1tZSAudGV4dCA6Om5nLWRlZXAgYSxcbjpob3N0IC5jb250ZW50LXdyYXBwZXIgLmZyb20tdGhlbSAudGV4dCA6Om5nLWRlZXAgYSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc3VjY2Vzcyk7XG59XG46aG9zdCAuY29udGVudC13cmFwcGVyIC5mcm9tLW1lIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWxpZ2h0LXNoYWRlKTtcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDBweDtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuOmhvc3QgLmNvbnRlbnQtd3JhcHBlciAuZnJvbS10aGVtIHtcbiAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWdyYWRpZW50KTtcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMHB4O1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbiAgZmxvYXQ6IGxlZnQ7XG59XG46aG9zdCBpb24tbGFiZWwge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgbWFyZ2luOiAwcHg7XG59XG46aG9zdCBpb24tY29udGVudCB7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6I2ViZWJlYjtcbn1cbjpob3N0IC5jaGF0Ym94IHNwYW4ge1xuICBmbG9hdDogcmlnaHQ7XG4gIHBhZGRpbmctdG9wOiA1cHg7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cbjpob3N0IC5jaGF0Ym94LmxlZnQgcCB7XG4gIGNvbG9yOiBibGFjaztcbiAgZm9udC1zaXplOiAxN3B4O1xuICBtYXJnaW46IDA7XG4gIHdoaXRlLXNwYWNlOiBicmVhay1zcGFjZXM7XG59XG46aG9zdCAuY2hhdGJveCBhIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RlZGVlMDtcbn1cbjpob3N0IC5jaGF0Ym94LmxlZnQge1xuICBtYXJnaW4tbGVmdDogLTEwcHg7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cbjpob3N0IC5jaGF0Ym94LnJpZ2h0LnNlbmRlciB7XG4gIGNvbG9yOiBibGFjaztcbn1cbjpob3N0IC5pb24tZmxvYXQtcmlnaHQge1xuICBtYXJnaW4tcmlnaHQ6IDE1cHg7XG59XG46aG9zdCBpb24tZm9vdGVyIC5ncm93IHtcbiAgcGFkZGluZzogNXB4IDEwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGhlaWdodDogMzVweCAhaW1wb3J0YW50O1xuICB3aWR0aDogY2FsYygxMDAlIC0gMjBweCk7XG4gIGJvcmRlcjogMC4xcHggc29saWQgbGlnaHRncmF5O1xuICBvdXRsaW5lOiBub25lO1xuICByZXNpemU6IG5vbmU7XG4gIG1hcmdpbjogNXB4IDEwcHggMHB4O1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xufVxuXG4udG9vbCB7XG4gIGJveC1zaGFkb3c6IDBweCAwLjJweCAwcHggI2E4YThhOCAhaW1wb3J0YW50O1xufVxuXG4uY29sciB7XG4gIG1hcmdpbi1sZWZ0OiAtNHB4O1xuICBtYXJnaW4tYm90dG9tOiAtM3B4O1xuICBmb250LXNpemU6IDIwcHg7XG4gIC0tYm94LXNoYWRvdzpub25lO1xuICBvdXRsaW5lOiBub25lO1xufVxuXG4uaW9uLWNvbG9yLWxpZ2h0IHtcbiAgLS1pb24tY29sb3ItYmFzZTogI2Y0ZjVmODAwICFpbXBvcnRhbnQ7XG4gIC0taW9uLWNvbG9yLWJhc2UtcmdiOiB2YXIoLS1pb24tY29sb3ItbGlnaHQtcmdiLCAyNDQsIDI0NSwgMjQ4KSAhaW1wb3J0YW50O1xuICAtLWlvbi1jb2xvci1jb250cmFzdDogIzAwMCAhaW1wb3J0YW50O1xuICAtLWlvbi1jb2xvci1jb250cmFzdC1yZ2I6IHZhcigtLWlvbi1jb2xvci1saWdodC1jb250cmFzdC1yZ2IsIDAsIDAsIDApICFpbXBvcnRhbnQ7XG4gIC0taW9uLWNvbG9yLXNoYWRlOiB2YXIoLS1pb24tY29sb3ItbGlnaHQtc2hhZGUsICNkN2Q4ZGEpICFpbXBvcnRhbnQ7XG4gIC0taW9uLWNvbG9yLXRpbnQ6IHZhcigtLWlvbi1jb2xvci1saWdodC10aW50LCAjZjVmNmY5KSAhaW1wb3J0YW50O1xufVxuXG4udXNlcnRpdGxlIHtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4ucmVwbHkge1xuICBib3JkZXItbGVmdDogMnB4IHNvbGlkIG9yYW5nZXJlZDtcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xufVxuXG4ucmVwbHktdmlldy1oZWFkZXIge1xuICBiYWNrZ3JvdW5kOiAjMzg4MGZmMzA7XG4gIHBhZGRpbmc6IDVweDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBib3JkZXItbGVmdDogMnB4IHNvbGlkIGJsdWU7XG4gIG1hcmdpbi1ib3R0b206IDdweDtcbn1cbi5yZXBseS12aWV3LWhlYWRlciBoNSB7XG4gIG1hcmdpbjogMDtcbiAgZm9udC1zaXplOiAxM3B4O1xuICBmb250LXdlaWdodDogNjAwO1xufVxuLnJlcGx5LXZpZXctaGVhZGVyIHAge1xuICBmb250LXNpemU6IDEzcHg7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXAgIWltcG9ydGFudDtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG4ucmVwbHktdmlldy1oZWFkZXIgaW1nIHtcbiAgd2lkdGg6IDMwcHg7XG4gIGhlaWdodDogMzBweDtcbiAgbWFyZ2luLXRvcDogOXB4O1xuICBvYmplY3QtZml0OiBjb3Zlcjtcbn1cbi5yZXBseS12aWV3LWhlYWRlciB2aWRlbyB7XG4gIHdpZHRoOiAzMHB4O1xuICBoZWlnaHQ6IDMwcHg7XG4gIG1hcmdpbi10b3A6IDlweDtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG59XG5cbmlvbi1pdGVtIHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cblxuLmJsdXIge1xuICBhbmltYXRpb246IGJsaW5rIDFzO1xuICAvKiBJRSAxMCssIEZ4IDI5KyAqL1xufVxuXG5Aa2V5ZnJhbWVzIGJsaW5rIHtcbiAgMCUsIDQ5JSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDtcbiAgfVxuICA1MCUsIDEwMCUge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICB9XG59XG4ucmVwbHktaW1nIHtcbiAgd2lkdGg6IDMwcHg7XG4gIGhlaWdodDogMzBweDtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG59Il19 */\"","import { Component, OnInit, ViewChild, ElementRef, Injector } from '@angular/core';\nimport { Camera } from '@ionic-native/camera/ngx';\nimport { ActionSheetController, AlertController, ModalController, IonContent } from '@ionic/angular';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport * as firebase from \"firebase/app\";\nimport 'firebase/auth';\nimport { LoaderService } from 'src/app/services/loader.service';\nimport { DataService } from 'src/app/services/data.service';\nimport { ImageService } from 'src/app/services/image.service';\nimport { Extender } from 'src/shared/helpers/extender';\nimport { FeedAddComponent } from 'src/pages/feed/components/feed-add/feed-add.component';\nimport { AuthService } from 'src/pages/auth/services/auth/auth.service';\nimport { IUser } from 'src/pages/auth/helpers/model';\nimport { FirestoreService } from 'src/shared/services/firestore/firestore.service';\nimport { CommonService } from 'src/shared/services/common/common.service';\nimport { ImageModalComponent } from 'src/app/components/image-modal/image-modal.component';\nimport { Content } from '@angular/compiler/src/render3/r3_ast';\n\n@Component({\n  selector: 'app-message',\n  templateUrl: './message.page.html',\n  styleUrls: ['./message.page.scss'],\n})\nexport class MessagePage extends Extender implements OnInit {\n\n  @ViewChild(IonContent, null) contentArea: IonContent;\n\n  userId: any;\n  title: any;\n  avatar: any;\n  message: any;\n  conversationId: any;\n  messages: any;\n  updateDateTime: any;\n  messagesToShow = [];\n  startIndex: any = -1;\n  // Set number of messages to show.\n  numberOfMessages = 10;\n  loggedInUserId: any;\n\n  currentUser: IUser;\n  replyMessage = {\n    id: null,\n    message: null,\n    displayName: null,\n    type: null\n  }\n\n  allMessages: any[] = [];\n\n  isSingleMessage = 0;\n\n\n  @ViewChild(\"fileInputButton\", null) private fileInputButton: ElementRef;\n  @ViewChild(\"videoInputButton\", null) private videoInputButton: ElementRef;\n  @ViewChild('myInput', null) myInput ;\n  @ViewChild(IonContent, null) content: IonContent;\n\n  // MessagePage\n  // This is the page where the user can chat with a friend.\n  constructor(\n    // public navCtrl: NavController,\n    // public navParams: NavParams,\n    protected injector: Injector,\n    private route: ActivatedRoute,\n    private dataProvider: DataService,\n    private angularfire: AngularFireDatabase,\n    private loadingProvider: LoaderService,\n    private imageProvider: ImageService,\n    private camera: Camera,\n    private actionSheet: ActionSheetController,\n    private geolocation: Geolocation,\n    private authService: AuthService,\n    private firestore: FirestoreService,\n    private commonService: CommonService\n  ) { \n    super(injector);\n    this.route.queryParamMap.subscribe(params => {\n      this.userId = params.get(\"id\");\n      this.title = params.get(\"name\");\n      this.avatar = params.get(\"img\");\n    });\n  }\n\n  async ngOnInit() {\n  }\n\n  async ionViewDidEnter(isLoad = false) {\n    this.loggedInUserId = firebase.auth().currentUser.uid;\n\n    this.currentUser = await this.authService.getUser();\n    \n    // Get friend details.\n    // this.dataProvider.getUser(this.userId).subscribe((user: any) => {\n    //   this.title = user.displayName;\n    // });\n\n    // Get conversationInfo with friend.\n    this.firestore.docOnce$('users/' + this.loggedInUserId + '/conversations/' + this.userId).subscribe((conversation: any) => {\n      if (conversation) {\n        // User already have conversation with this friend, get conversation\n        this.conversationId = conversation.conversationId;\n        console.log('conv id', this.conversationId);\n\n        this.firestore.col$('conversations/' + this.conversationId + '/messages', ref => ref.orderBy('createdAt', 'desc').limit(1)).subscribe((resp: any[]) => {\n          if(this.isSingleMessage >= 1) {\n            console.log('recent message',resp);\n            const index = this.allMessages.findIndex(item => item.id === resp[0].id);\n            console.log('index', 1);\n            if(index === -1) {\n              this.allMessages.push(resp[0]);\n              this.displayMessages(this.allMessages);\n            }\n          }\n        });\n\n        // Get conversation\n        this.dataProvider.getConversationMessages(this.conversationId).subscribe((messagesRes: any[]) => {\n          let messages = messagesRes.reverse();\n          console.log('allMessage', messages.reverse());\n          this.allMessages = messagesRes.reverse();\n          this.displayMessages(messages);\n          if(this.isSingleMessage === 0) this.isSingleMessage = 1;\n          // this.scrollBottom();\n          // console.log(\"SCROLL TO BOTTOM CALLED\");\n        });\n      }\n    });\n\n    // Update messages' date time elapsed every minute based on Moment.js.\n    var that = this;\n    if (!that.updateDateTime) {\n      that.updateDateTime = setInterval(function () {\n        if (that.messages) {\n          that.messages.forEach((message) => {\n            let date = message.date;\n            message.date = new Date(date);\n          });\n        }\n      }, 60000);\n    }\n    // if(!isLoad)\n    setTimeout(() => {\n      setTimeout(() => {\n        if (this.contentArea.scrollToBottom) {\n          this.contentArea.scrollToBottom();\n        }\n      }, 500);\n    }, 1000);\n  }\n\n  displayMessages(messages: any[]) {\n    this.contentArea.scrollToBottom();\n    console.log(\"scrolled to bottom\");\n    if (messages == null)\n      messages = [];\n    if (this.messages) {\n      // Just append newly added messages to the bottom of the view.\n      if (messages.length > this.messages.length) {\n        let message = messages[messages.length - 1];\n\n        this.dataProvider.getUser(message.sender).subscribe((user: any) => {\n          message.avatar = user.photoURL;\n          message.displayName = user.displayName;\n        });\n        if(message.replyTo) {\n          const index = messages.findIndex(item => item.id === message.replyTo);\n          message.replyToMessage = messages[index] ? messages[index].message : 'Message Deleted';\n          message.replyToMessageType = messages[index] ? messages[index].type : 'text';\n        }\n        this.messages.push(message);\n        this.messagesToShow.push(message);\n        console.log('new message received');\n        setTimeout(() => {\n          if (this.contentArea.scrollToBottom) {\n            this.contentArea.scrollToBottom();\n          }\n        }, 500);\n        // if(!isLoad) {\n        //   console.log('isLoad', isLoad);\n        //   setTimeout(() => {\n        //     if (this.contentArea.scrollToBottom) {\n        //       this.contentArea.scrollToBottom();\n        //     }\n        //   }, 500);\n        // }\n      }\n    } else {\n      // Get all messages, this will be used as reference object for messagesToShow.\n      this.messages = [];\n      messages.forEach((message) => {\n        this.dataProvider.getUser(message.sender).subscribe((user: any) => {\n          message.avatar = user.photoURL;\n          message.displayName = user.displayName;\n        });\n        if(message.replyTo) {\n          const index = messages.findIndex(item => item.id === message.replyTo);\n          message.replyToMessage = messages[index] ? messages[index].message : 'Message Deleted';\n          message.replyToMessageType = messages[index] ? messages[index].type : 'Message Deleted';\n        }\n        this.messages.push(message);\n      });\n      // Load messages in relation to numOfMessages.\n      if (this.startIndex == -1) {\n        // Get initial index for numberOfMessages to show.\n        if ((this.messages.length - this.numberOfMessages) > 0) {\n          this.startIndex = this.messages.length - this.numberOfMessages;\n        } else {\n          this.startIndex = 0;\n        }\n      }\n      if (!this.messagesToShow) {\n        this.messagesToShow = [];\n      }\n      // Set messagesToShow\n      for (var i = this.startIndex; i < this.messages.length; i++) {\n        this.messagesToShow.push(this.messages[i]);\n      }\n      this.loadingProvider.dismissLoader();\n    }\n  }\n\n\n  // Load previous messages in relation to numberOfMessages.\n  loadPreviousMessages() {\n    var that = this;\n\n    let cursor = this.messagesToShow[0].doc;\n\n    // this.firestore.colWithIds$('conversations/' + this.conversationId + '/messages', ref => ref.orderBy('createdAt').limit(10).startAfter(cursor)).subscribe(resp => {\n    //   this.allMessages = this.allMessages.concat(resp);\n    //   console.log('messagesToShow', this.messagesToShow);\n    //   that.scrollTop();\n    // })\n\n    setTimeout(function () {\n      // Set startIndex to load more messages.\n      if ((that.startIndex - that.numberOfMessages) > -1) {\n        that.startIndex -= that.numberOfMessages;\n      } else {\n        that.startIndex = 0;\n      }\n      // Refresh our messages list.\n      that.messages = null;\n      that.messagesToShow = null;\n\n      that.scrollTop();\n\n      // Populate list again.\n      that.ionViewDidEnter(true);\n    }, 1000);\n  }\n\n  // Update messagesRead when user lefts this page.\n  ionViewWillLeave() {\n    this.setMessagesRead();\n  }\n\n  // Check if currentPage is active, then update user's messagesRead.\n  setMessagesRead() {\n    console.log('setMessagesRead');\n    this.firestore.update('users/' + this.currentUser.uid + '/conversations/' + this.userId, {messagesRead: this.allMessages ? this.allMessages.length : 0}).then(() => {}).catch(() => {\n      this.firestore.set('users/' + this.currentUser.uid + '/conversations/' + this.userId, {messagesRead: this.allMessages ? this.allMessages.length : 0});\n    });\n    this.loadingProvider.dismissLoader();\n  }\n\n  scrollBottom(justScroll = false) {\n    setTimeout(() => {\n      if (this.contentArea.scrollToBottom) {\n        this.contentArea.scrollToBottom();\n      }\n    }, 500);\n    this.setMessagesRead();\n  }\n\n  scrollTop() {\n    setTimeout(() => {\n      if (this.contentArea.scrollToTop) {\n        this.contentArea.scrollToTop();\n      }\n    }, 500);\n  }\n\n\n  // Check if the user is the sender of the message.\n  isSender(message) {\n    if (message.sender == this.loggedInUserId) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n\n  // Send message, if there's no conversation yet, create a new conversation.\n  send(type) {\n    if (this.message) {\n      // User entered a text on messagebox\n      let msgID = this.firestore.createId();\n      let msg = {\n        date: new Date().toString(),\n        sender: this.loggedInUserId,\n        type: type,\n        message: this.message,\n        id: msgID,\n        replyTo: this.replyMessage.id || null\n      };\n\n      if (this.conversationId) {\n        // let messages = JSON.parse(JSON.stringify(this.messages));\n\n        // Update conversation on database.\n        this.firestore.set('conversations/' + this.conversationId + '/messages/' + msgID, msg);\n        // this.firestore.set('users/' + this.loggedInUserId + '/conversations/' + this.userId, {\n        //   conversationId: this.conversationId,\n        //   messagesRead: 1\n        // }).then(() => {\n        // });\n        // this.firestore.set('users/' + this.userId + '/conversations/' + this.loggedInUserId, {\n        //   conversationId: this.conversationId,\n        //   messagesRead: 0\n        // });\n        // Clear messagebox.\n        this.message = '';\n        this.scrollBottom();\n        console.log(\"message just send\");\n        this.replyMessage.id = null;\n        this.replyMessage.displayName = null;\n        this.replyMessage.message = null;\n      } else {\n        let messages = [];\n        messages.push(msg);\n        // New Conversation with friend.\n        var users = [];\n        users.push(this.loggedInUserId);\n        users.push(this.userId);\n        console.log('new conversation');\n        // Add conversation.\n        let cid = this.firestore.createId();\n        this.firestore.set('conversations/' + cid, {\n          dateCreated: new Date().toString(),\n          users: users\n        }).then((success) => {\n          let conversationId = cid;\n          this.message = '';\n          // Add conversation reference to the users.\n          this.firestore.set('conversations/' + cid + '/messages/' + msg.id, msg);\n          this.firestore.set('users/' + this.loggedInUserId + '/conversations/' + this.userId, {\n            conversationId: conversationId,\n            messagesRead: 1\n          }).then(() => {\n            this.replyMessage.id = null;\n            this.replyMessage.displayName = null;\n            this.replyMessage.message = null;\n          });\n          this.firestore.set('users/' + this.userId + '/conversations/' + this.loggedInUserId, {\n            conversationId: conversationId,\n            messagesRead: 0\n          });\n        });\n        this.scrollBottom(true);\n      }\n    }\n  }\n\n  viewUser(userId) {\n    this.router.navigateByUrl('userinfo/' + userId);\n  }\n\n\n  attach() {\n    this.actionSheet.create({\n      header: 'Choose attachments',\n      buttons: [{\n        text: 'Camera',\n        handler: () => {\n          if((window as any).cordova) {\n            this.imageProvider.uploadGroupPhotoMessage(this.conversationId, this.camera.PictureSourceType.CAMERA).then((url) => {\n              this.message = url;\n              this.send(\"image\");\n            }, err => {\n              \n            });\n          } else {\n            (this.fileInputButton.nativeElement as HTMLInputElement).click();\n          }\n        }\n      }, {\n        text: 'Photo Library',\n        handler: () => {\n          if((window as any).cordova) {\n            this.imageProvider.uploadGroupPhotoMessage(this.conversationId, this.camera.PictureSourceType.PHOTOLIBRARY).then((url) => {\n              this.message = url;\n              this.send(\"image\");\n            }, err => {\n              \n            });\n          } else {\n            (this.fileInputButton.nativeElement as HTMLInputElement).click();\n          }\n        }\n      },\n      {\n        text: 'Video',\n        handler: () => {\n          if((window as any).cordova) {\n            this.imageProvider.uploadVideoMessage(this.conversationId).then(url => {\n              this.message = url;\n              this.send(\"video\");\n            });\n          } else {\n            (this.videoInputButton.nativeElement as HTMLInputElement).click();\n          }\n        }\n      }\n        , {\n        text: 'Location',\n        handler: () => {\n          this.geolocation.getCurrentPosition({\n            timeout: 5000\n          }).then(res => {\n            let locationMessage = \"Location:<br> lat:\" + res.coords.latitude + \"<br> lng:\" + res.coords.longitude;\n            let mapUrl = \"<a href='https://www.google.com/maps/search/\" + res.coords.latitude + \",\" + res.coords.longitude + \"'>View on Map</a>\";\n\n            let confirm = this.alertCtrl.create({\n              header: 'Your Location',\n              message: locationMessage,\n              buttons: [{\n                text: 'cancel',\n                handler: () => {\n                  console.log(\"canceled\");\n                }\n              }, {\n                text: 'Share',\n                handler: () => {\n                  this.message = locationMessage + \"<br>\" + mapUrl;\n                  this.send(\"location\");\n                }\n              }]\n            }).then(r => r.present());\n          }, locationErr => {\n          });\n        }\n      }, {\n        text: 'cancel',\n        role: 'cancel',\n        handler: () => {\n          console.log(\"cancelled\");\n        }\n      }]\n    }).then(r => r.present());\n  }\n\n  // Enlarge image messages.\n  enlargeImage(img) {\n    this.modalCtrl.create({\n      component: ImageModalComponent,\n      componentProps: {\n        img: img\n      }\n    }).then(res => res.present())\n  }\n\n  public detectFiles(event: any) {\n    this.loadingProvider.presentProcessingLoading();\n    this.commonService.getImagesFromFiles(event).then((images) => {\n      (this.fileInputButton.nativeElement as HTMLInputElement).value = null;\n      images.forEach(imageData => {\n        this.firestore.uploadImage(imageData, new Date().getTime().toString() + '.png', 'chat-images').then(resp => {\n          this.message = resp;\n          this.send(\"image\");\n          this.loadingProvider.dismissLoader();\n        });\n      }, err => {\n        this.loadingProvider.dismissLoader();\n      })\n    }, err => {\n      this.loadingProvider.dismissLoader();\n    });\n  }\n\n   /** used for browser image uploads, hooked up to input file type on change event */\n   public detectVideo(event: any) {\n    this.loadingProvider.presentProcessingLoading();\n    this.commonService.getVideoFile(event).then((url: any) => {\n      this.firestore\n      .uploadVideoString(url, `${Date.now()}-${this.currentUser.uid}`)\n      .then(\n        async (link) => {\n          this.message = link;\n          this.send(\"video\");\n          this.loadingService.dismissLoader();\n        },\n        (err) => {\n          this.loadingProvider.dismissLoader();\n          this.toast(\"Error in uploading video\");\n        }\n      );\n    }, err => {\n      this.loadingProvider.dismissLoader();\n    });\n  }\n\n  openMsgOption(msgId: string, index: number) {\n    this.actionSheet.create({\n      header: 'Options',\n      buttons: [{\n        text: 'Delete',\n        handler: () => {\n          this.delete(msgId, index);\n        }\n      }, {\n        text: 'cancel',\n        role: 'cancel',\n        handler: () => {\n          console.log(\"cancelled\");\n        }\n      }]\n    }).then(r => r.present());\n  }\n\n  delete(msgID: any, index: number) {\n    this.loadingProvider.presentProcessingLoading();\n    this.firestore.delete(`conversations/${this.conversationId}/messages/${msgID}`).then(() => {\n      this.loadingProvider.dismissLoader();\n      this.messagesToShow.splice(index,1);\n    }, err => {\n      this.loadingProvider.dismissLoader();\n    })\n  }\n\n  drag(event: any, msg: any) {\n    const slidingItem = document.getElementById('slidingItem' + msg.id) as any;\n    setTimeout(() => {\n      slidingItem.close();\n      this.replyMessage.id = msg.id;\n      this.replyMessage.message = msg.message;\n      this.replyMessage.displayName = msg.displayName;\n      this.replyMessage.type = msg.type;\n    }, 100);\n  }\n\n  getMessage(msg: string) {\n    var exp = /(https?:\\/\\/[^\\s]+)/g;\n    let text = msg.replace(exp,\"<a href='$1' class='url' target='_blank'>$1</a>\");\n    return text;\n  }\n\n  getRepliedMessage(msgID: string) {\n    let index = this.messages.findIndex(item => item.id === msgID);\n    return this.messages[index];\n  }\n\n  scrollTo(elementId: string) {\n    console.log('elementID', elementId);\n    let y = document.getElementById(elementId).offsetTop;\n    document.getElementById(elementId).classList.add('blur');\n    this.content.scrollToPoint(0, y - 100);\n    setTimeout(() => {\n      document.getElementById(elementId).classList.remove('blur');\n    }, 1000);\n  }\n\n}\n"],"sourceRoot":"webpack:///"}