{"version":3,"sources":["./src/pages/messages/components/message/message.component.html","./src/pages/messages/components/messages/messages.component.html","./src/pages/messages/components/message/message.component.scss","./src/pages/messages/components/message/message.component.ts","./src/pages/messages/components/messages/messages.component.scss","./src/pages/messages/components/messages/messages.component.ts","./src/pages/messages/messages.module.ts"],"names":[],"mappings":"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","file":"pages-messages-messages-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button mode=\\\"md\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{title}}</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button fill=\\\"clear\\\" (click)=\\\"viewUser(userId)\\\">\\n        <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [scrollEvents]=\\\"true\\\" #content>\\n  <div class=\\\"messages\\\" #contentArea>\\n    <p class=\\\"center\\\" *ngIf=\\\"startIndex > 0\\\"><span tappable (click)=\\\"loadPreviousMessages()\\\">Load previous\\n        messages</span></p>\\n    <div *ngFor=\\\"let message of messagesToShow\\\">\\n      <div *ngIf=\\\"isSender(message)\\\" class=\\\"chatbox right sender\\\">\\n        <div *ngIf=\\\"message.type == 'text'\\\">\\n          <p style=\\\"margin:0\\\">{{message.message}}</p>\\n        </div>\\n        <div *ngIf=\\\"message.type == 'location'\\\" [innerHtml]=\\\"message.message\\\"></div>\\n        <div *ngIf=\\\"message.type == 'image'\\\">\\n          <img tappable (click)=\\\"enlargeImage(message.message)\\\" src=\\\"{{message.message}}\\\" (load)=\\\"scrollBottom()\\\" />\\n        </div>\\n        <div *ngIf=\\\"message.type == 'video'\\\">\\n          <video controls width=\\\"100%\\\">\\n            <source src=\\\"{{message.message}}\\\" type=\\\"video/mp4\\\">\\n          </video>\\n        </div>\\n        <span>{{message.date | DateFormat}}</span>\\n      </div>\\n      <div *ngIf=\\\"!isSender(message)\\\" class=\\\"chatbox left\\\">\\n        <div *ngIf=\\\"message.type == 'text'\\\">\\n          <p style=\\\"margin:0\\\">{{message.message}}</p>\\n        </div>\\n        <div *ngIf=\\\"message.type == 'location'\\\" [innerHtml]=\\\"message.message\\\"></div>\\n        <div *ngIf=\\\"message.type == 'image'\\\">\\n          <img tappable (click)=\\\"enlargeImage(message.message)\\\" src=\\\"{{message.message}}\\\" (load)=\\\"scrollBottom()\\\" />\\n        </div>\\n        <div *ngIf=\\\"message.type == 'video'\\\">\\n          <video controls width=\\\"100%\\\">\\n            <source src=\\\"{{message.message}}\\\" type=\\\"video/mp4\\\">\\n          </video>\\n        </div>\\n        <span>{{message.date | DateFormat}}</span>\\n      </div>\\n    </div>\\n\\n  </div>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar>\\n    <ion-item lines=\\\"none\\\">\\n      <ion-button slot=\\\"start\\\" fill=\\\"clear\\\" (click)=\\\"attach()\\\">\\n        <ion-icon name=\\\"attach-outline\\\"></ion-icon>\\n      </ion-button>\\n      <ion-textarea style=\\\"height: 100%;\\\" autoGrow=\\\"true\\\" rows=\\\"1\\\" placeholder=\\\"Type your message\\\"\\n        [(ngModel)]=\\\"message\\\"></ion-textarea>\\n      <ion-button slot=\\\"end\\\" color=\\\"primary\\\" fill=\\\"clear\\\" (click)=\\\"send('text')\\\" [disabled]=\\\"!message\\\">\\n        send\\n      </ion-button>\\n    </ion-item>\\n  </ion-toolbar>\\n</ion-footer>\"","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-icon\\n      src=\\\"assets/icons/menu-outline.svg\\\"\\n      color=\\\"danger\\\"\\n        style=\\\"font-size: 25px; padding-left: 10px; color: black;\\\"\\n        (click)=\\\"openMenu()\\\"\\n      ></ion-icon>\\n    </ion-buttons>\\n    \\n    <ion-buttons slot=\\\"end\\\">\\n\\n      <img\\n      id=\\\"hide\\\"\\n      alt=\\\"appicon\\\"\\n      height=\\\"22\\\"\\n      class=\\\"ion-float-right\\\"\\n      src=\\\"assets/images/logo1.png\\\"\\n    />\\n\\n      \\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n\\n  <ion-segment [(ngModel)]=\\\"tab\\\" (ionChange)=\\\"segmentChanged($event)\\\">\\n    <ion-segment-button value=\\\"chat\\\">\\n      <ion-label>Chats</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"group\\\">\\n      <ion-label>Groups <ion-badge color=\\\"green\\\" *ngIf=\\\"messagesService.getUnreadGroupMessagesCount() > 0\\\">{{messagesService.getUnreadGroupMessagesCount()}}</ion-badge></ion-label>\\n    </ion-segment-button>\\n  </ion-segment>\\n\\n\\n  <ng-container *ngIf=\\\"tab === 'chat'\\\">\\n    <ion-searchbar [(ngModel)]=\\\"searchFriend\\\" placeholder=\\\"search..\\\"></ion-searchbar>\\n    <div class=\\\"empty-list\\\" *ngIf=\\\"messagesService.conversations && messagesService.conversations.length <= 0\\\">\\n      <h1>\\n        <ion-icon name=\\\"chatbubbles\\\"></ion-icon>\\n      </h1>\\n      <p>No new conversation yet.</p>\\n    </div>\\n    <!-- Show conversations -->\\n  \\n    <ion-list lines=\\\"none\\\" *ngIf=\\\"messagesService.isLoading\\\">\\n      <ion-item *ngFor=\\\"let x of [].constructor(4)\\\">\\n        <ion-avatar slot=\\\"start\\\">\\n          <ion-skeleton-text animated></ion-skeleton-text>\\n        </ion-avatar>\\n        <ion-label>\\n          <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n          <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n        </ion-label>\\n      </ion-item>\\n    </ion-list>\\n  \\n    <ion-list lines=\\\"none\\\" *ngIf=\\\"messagesService.conversations && messagesService.conversations.length > 0\\\">\\n  \\n      <div *ngFor=\\\"let conversation of messagesService.conversations | conversationFilter:searchFriend\\\">\\n        <ion-item *ngIf=\\\"conversation.blocked != true\\\" [ngClass]=\\\"{'unread-conv': conversation.unreadMessagesCount > 0}\\\" (click)=\\\"message(conversation.key, conversation.friend.displayName, conversation.friend.photoURL)\\\">\\n  \\n          <ion-avatar slot=\\\"start\\\" *ngIf=\\\"conversation.friend\\\">\\n            <img src=\\\"{{conversation.friend.photoURL}}\\\" onError=\\\"this.src='./assets/images/default-dp.png'\\\">\\n          </ion-avatar>\\n          <div [ngClass]=hasUnreadMessages(conversation)>\\n            <ion-label>\\n              <ion-text>\\n                <h2 *ngIf=\\\"conversation.friend\\\" [ngStyle]=\\\"{'font-weight: 600 !important': conversation.unreadMessagesCount > 0}\\\">{{conversation.friend.displayName}}</h2>\\n              </ion-text>\\n              <ion-text>\\n                <p [ngStyle]=\\\"{'font-weight: 600 !important': conversation.unreadMessagesCount > 0}\\\">{{conversation.message}}</p>\\n              </ion-text>\\n            </ion-label>\\n          </div>\\n          <div slot=\\\"end\\\" style=\\\"display: flex;flex-direction: column;align-items: flex-end;\\\">\\n            <ion-text style=\\\"color: #777;font-size: 12px;position: relative;\\n            top: -10px;\\\">{{conversation.date | DateFormat}}</ion-text>\\n            <div class=\\\"msg-circle\\\" *ngIf=\\\"conversation.unreadMessagesCount > 0\\\">\\n            </div>\\n          </div>\\n        </ion-item>\\n      </div>\\n    </ion-list>\\n  </ng-container>\\n\\n  <ng-container *ngIf=\\\"tab === 'group'\\\">\\n    <div class=\\\"empty-list\\\" *ngIf=\\\"messagesService.groups && messagesService.groups.length <= 0\\\">\\n      <h1>\\n        <ion-icon name=\\\"chatbubbles-outline\\\"></ion-icon>\\n      </h1>\\n      <p>No new groups yet.</p>\\n    </div>\\n    <ion-list lines=\\\"none\\\" *ngIf=\\\"messagesService.isLoading\\\">\\n      <ion-item *ngFor=\\\"let x of [].constructor(4)\\\">\\n        <ion-avatar slot=\\\"start\\\">\\n          <ion-skeleton-text animated></ion-skeleton-text>\\n        </ion-avatar>\\n        <ion-label>\\n          <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n          <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n        </ion-label>\\n      </ion-item>\\n    </ion-list>\\n    <!-- Show groups -->\\n    <div *ngIf=\\\"messagesService.groups && messagesService.groups.length > 0\\\">\\n      <ion-searchbar [(ngModel)]=\\\"searchGroup\\\" placeholder=\\\"search\\\"></ion-searchbar>\\n      <ion-list lines=\\\"none\\\">\\n        <ng-container *ngFor=\\\"let group of messagesService.groups | groupFilter: searchGroup\\\">\\n          <ion-item *ngIf=\\\"group.name\\\" (click)=\\\"viewGroup(group.id)\\\">\\n            <ion-thumbnail slot=\\\"start\\\">\\n              <img src=\\\"{{group.img}}\\\" onError=\\\"this.src='./assets/images/default-group.png'\\\">\\n            </ion-thumbnail>\\n            <ion-label>\\n              <ion-text>\\n                <h2>{{group.name}}</h2>\\n              </ion-text>\\n              <ion-text>\\n                <p>{{group.date | DateFormat}}</p>\\n              </ion-text>\\n            </ion-label>\\n            <ion-badge slot=\\\"end\\\" color=\\\"green\\\" *ngIf=\\\"group.unreadMessagesCount > 0\\\">{{group.unreadMessagesCount}}\\n            </ion-badge>\\n          </ion-item>\\n        </ng-container>\\n      </ion-list>\\n    </div>\\n  </ng-container>\\n\\n\\n<ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n  <ion-fab-button class=\\\"colr\\\" color=\\\"light\\\"  routerLink=\\\"/newgroup\\\">\\n    <ion-icon class=\\\"colr\\\" name=\\\"add-circle\\\"></ion-icon>\\n  </ion-fab-button>\\n</ion-fab>\\n\\n  \\n</ion-content>\\n\\n<ion-toolbar color=\\\"secondary\\\">\\n  <ion-tabs>\\n    <ion-tab-bar color=\\\"favorite\\\" slot=\\\"bottom\\\">\\n      <ion-tab-button routerLink=\\\"/feed\\\" routerDirection=\\\"forward\\\">\\n        <ion-icon src=\\\"assets/icons/home-outline.svg\\\" color=\\\"primary\\\" style=\\\"width: 30px; height: 50px;\\\"></ion-icon>\\n      </ion-tab-button>\\n\\n      <ion-tab-button routerLink=\\\"/people\\\" routerDirection=\\\"forward\\\">\\n        <ion-icon\\n        src=\\\"assets/icons/people-outline.svg\\\"\\n        color=\\\"primary\\\"\\n          style=\\\"width: 35px; height: 50px;\\\"\\n        ></ion-icon>\\n      </ion-tab-button>\\n\\n      \\n\\n      <!-- <ion-tab-button (click)=\\\"goToMessages()\\\">\\n        <ion-icon src=\\\"assets/icons/mail-outline.svg\\\" color=\\\"primary\\\" style=\\\"width: 30px; height: 50px;\\\"></ion-icon>\\n        <ion-badge\\n          *ngIf=\\\"messagesService.getUnreadMessagesCount() > 0 || messagesService.getUnreadGroupMessagesCount() > 0\\\"\\n          class=\\\"badgemsg\\\"\\n          style=\\\"margin-bottom: 7px;\\\"\\n          color=\\\"green\\\"\\n          >{{ messagesService.getUnreadMessagesCount() + messagesService.getUnreadGroupMessagesCount() }}</ion-badge>\\n      </ion-tab-button> -->\\n\\n      <ion-tab-button (click)=\\\"goToNotifications()\\\">\\n        <ion-icon\\n        color=\\\"primary\\\"\\n        src=\\\"assets/icons/notifications-outline.svg\\\"\\n          style=\\\"width: 30px; height: 50px;\\\"\\n        ></ion-icon>\\n        <ion-badge\\n          *ngIf=\\\"notificationService.unreadCounter > 0\\\"\\n          class=\\\"badge\\\"\\n          style=\\\"right: 10%;\\\"\\n          color=\\\"green\\\"\\n          >{{ notificationService.unreadCounter }}</ion-badge\\n        >\\n      </ion-tab-button>\\n    </ion-tab-bar>\\n  </ion-tabs>\\n\\n</ion-toolbar>\"","export default \":host .title-img {\\n  width: 30px;\\n  height: 30px;\\n  border-radius: 50%;\\n  background-size: contain !important;\\n  background-color: var(--ion-color-light-shade);\\n  margin-right: 10px;\\n  border: 1px solid var(--ion-color-light-shade);\\n}\\n:host .clear {\\n  clear: both;\\n}\\n:host .content-wrapper {\\n  height: 100%;\\n}\\n:host .content-wrapper .from-me,\\n:host .content-wrapper .from-them {\\n  position: relative;\\n  border-radius: 1em;\\n  margin: 10px 0;\\n  overflow: hidden;\\n}\\n:host .content-wrapper .from-me .image,\\n:host .content-wrapper .from-them .image {\\n  width: 200px;\\n  height: 200px;\\n}\\n:host .content-wrapper .from-me .image-group,\\n:host .content-wrapper .from-them .image-group {\\n  display: grid;\\n  grid-template-columns: repeat(2, 1fr);\\n  grid-auto-rows: auto;\\n  grid-gap: 0.5rem;\\n  padding: 10px 10px 5px;\\n  border-top-left-radius: 1em;\\n}\\n:host .content-wrapper .from-me .image-group .image-group-image,\\n:host .content-wrapper .from-them .image-group .image-group-image {\\n  height: 100px;\\n  width: 100px;\\n  border: 1px solid var(--ion-color-medium);\\n  border-radius: 1em;\\n}\\n:host .content-wrapper .from-me .text,\\n:host .content-wrapper .from-them .text {\\n  padding: 10px 20px;\\n  margin: 0;\\n}\\n:host .content-wrapper .from-me .text ::ng-deep p,\\n:host .content-wrapper .from-them .text ::ng-deep p {\\n  margin: 0;\\n}\\n:host .content-wrapper .from-me .text ::ng-deep a,\\n:host .content-wrapper .from-them .text ::ng-deep a {\\n  color: var(--ion-color-primary);\\n}\\n:host .content-wrapper .from-me {\\n  color: var(--ion-color-dark);\\n  background: var(--ion-color-light-shade);\\n  border-top-right-radius: 0px;\\n  float: right;\\n}\\n:host .content-wrapper .from-them {\\n  background: var(--ion-color-gradient);\\n  border-top-left-radius: 0px;\\n  color: var(--ion-color-light);\\n  float: left;\\n}\\n:host ion-footer textarea {\\n  padding: 5px 10px;\\n  overflow: hidden;\\n  height: 40px !important;\\n  width: calc(100% - 20px);\\n  border: 1px solid var(--ion-color-medium);\\n  outline: none;\\n  resize: none;\\n  margin: 5px 10px 0px;\\n  border-radius: 20px;\\n  color: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNib29rL0Rlc2t0b3AvQ2xpZW50cy9kci9zcmMvcGFnZXMvbWVzc2FnZXMvY29tcG9uZW50cy9tZXNzYWdlL21lc3NhZ2UuY29tcG9uZW50LnNjc3MiLCJzcmMvcGFnZXMvbWVzc2FnZXMvY29tcG9uZW50cy9tZXNzYWdlL21lc3NhZ2UuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsbUNBQUE7RUFDQSw4Q0FBQTtFQUNBLGtCQUFBO0VBQ0EsOENBQUE7QUNBSjtBREVFO0VBQ0UsV0FBQTtBQ0FKO0FER0U7RUFDRSxZQUFBO0FDREo7QURHSTs7RUFFRSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0FDRE47QURHTTs7RUFDRSxZQUFBO0VBQ0EsYUFBQTtBQ0FSO0FER007O0VBQ0UsYUFBQTtFQUNBLHFDQUFBO0VBQ0Esb0JBQUE7RUFDQSxnQkFBQTtFQUNBLHNCQUFBO0VBQ0EsMkJBQUE7QUNBUjtBREVROztFQUNFLGFBQUE7RUFDQSxZQUFBO0VBQ0EseUNBQUE7RUFDQSxrQkFBQTtBQ0NWO0FER007O0VBQ0Usa0JBQUE7RUFDQSxTQUFBO0FDQVI7QURHVTs7RUFDRSxTQUFBO0FDQVo7QURHVTs7RUFDRSwrQkFBQTtBQ0FaO0FETUk7RUFDRSw0QkFBQTtFQUNBLHdDQUFBO0VBQ0EsNEJBQUE7RUFDQSxZQUFBO0FDSk47QURPSTtFQUNFLHFDQUFBO0VBQ0EsMkJBQUE7RUFDQSw2QkFBQTtFQUNBLFdBQUE7QUNMTjtBRFlJO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0Esd0JBQUE7RUFDQSx5Q0FBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0VBQ0Esb0JBQUE7RUFDQSxtQkFBQTtFQUNFLFlBQUE7QUNWUiIsImZpbGUiOiJzcmMvcGFnZXMvbWVzc2FnZXMvY29tcG9uZW50cy9tZXNzYWdlL21lc3NhZ2UuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIC50aXRsZS1pbWcge1xuICAgIHdpZHRoOiAzMHB4O1xuICAgIGhlaWdodDogMzBweDtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb250YWluICFpbXBvcnRhbnQ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0LXNoYWRlKTtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLWxpZ2h0LXNoYWRlKTtcbiAgfVxuICAuY2xlYXIge1xuICAgIGNsZWFyOiBib3RoO1xuICB9XG5cbiAgLmNvbnRlbnQtd3JhcHBlciB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuXG4gICAgLmZyb20tbWUsXG4gICAgLmZyb20tdGhlbSB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICBib3JkZXItcmFkaXVzOiAxZW07XG4gICAgICBtYXJnaW46IDEwcHggMDtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG5cbiAgICAgIC5pbWFnZSB7XG4gICAgICAgIHdpZHRoOiAyMDBweDtcbiAgICAgICAgaGVpZ2h0OiAyMDBweDtcbiAgICAgIH1cblxuICAgICAgLmltYWdlLWdyb3VwIHtcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgMWZyKTtcbiAgICAgICAgZ3JpZC1hdXRvLXJvd3M6IGF1dG87XG4gICAgICAgIGdyaWQtZ2FwOiAwLjVyZW07XG4gICAgICAgIHBhZGRpbmc6IDEwcHggMTBweCA1cHg7XG4gICAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDFlbTtcblxuICAgICAgICAuaW1hZ2UtZ3JvdXAtaW1hZ2Uge1xuICAgICAgICAgIGhlaWdodDogMTAwcHg7XG4gICAgICAgICAgd2lkdGg6IDEwMHB4O1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDFlbTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAudGV4dCB7XG4gICAgICAgIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgICAgICAgbWFyZ2luOiAwO1xuXG4gICAgICAgIDo6bmctZGVlcCB7XG4gICAgICAgICAgcCB7XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYSB7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC5mcm9tLW1lIHtcbiAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbGlnaHQtc2hhZGUpO1xuICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDBweDtcbiAgICAgIGZsb2F0OiByaWdodDtcbiAgICB9XG5cbiAgICAuZnJvbS10aGVtIHtcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1ncmFkaWVudCk7XG4gICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwcHg7XG4gICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgIH1cbiAgfVxuXG4gXG5cbiAgaW9uLWZvb3RlciB7XG4gICAgdGV4dGFyZWEge1xuICAgICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgaGVpZ2h0OiA0MHB4ICFpbXBvcnRhbnQ7XG4gICAgICB3aWR0aDogY2FsYygxMDAlIC0gMjBweCk7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItbWVkaXVtKTtcbiAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICByZXNpemU6IG5vbmU7XG4gICAgICBtYXJnaW46IDVweCAxMHB4IDBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgICAgIGNvbG9yOiBibGFjaztcbiAgICBcbiAgICB9XG4gIH1cbn1cbiIsIjpob3N0IC50aXRsZS1pbWcge1xuICB3aWR0aDogMzBweDtcbiAgaGVpZ2h0OiAzMHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGJhY2tncm91bmQtc2l6ZTogY29udGFpbiAhaW1wb3J0YW50O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHQtc2hhZGUpO1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1saWdodC1zaGFkZSk7XG59XG46aG9zdCAuY2xlYXIge1xuICBjbGVhcjogYm90aDtcbn1cbjpob3N0IC5jb250ZW50LXdyYXBwZXIge1xuICBoZWlnaHQ6IDEwMCU7XG59XG46aG9zdCAuY29udGVudC13cmFwcGVyIC5mcm9tLW1lLFxuOmhvc3QgLmNvbnRlbnQtd3JhcHBlciAuZnJvbS10aGVtIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBib3JkZXItcmFkaXVzOiAxZW07XG4gIG1hcmdpbjogMTBweCAwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuOmhvc3QgLmNvbnRlbnQtd3JhcHBlciAuZnJvbS1tZSAuaW1hZ2UsXG46aG9zdCAuY29udGVudC13cmFwcGVyIC5mcm9tLXRoZW0gLmltYWdlIHtcbiAgd2lkdGg6IDIwMHB4O1xuICBoZWlnaHQ6IDIwMHB4O1xufVxuOmhvc3QgLmNvbnRlbnQtd3JhcHBlciAuZnJvbS1tZSAuaW1hZ2UtZ3JvdXAsXG46aG9zdCAuY29udGVudC13cmFwcGVyIC5mcm9tLXRoZW0gLmltYWdlLWdyb3VwIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgMWZyKTtcbiAgZ3JpZC1hdXRvLXJvd3M6IGF1dG87XG4gIGdyaWQtZ2FwOiAwLjVyZW07XG4gIHBhZGRpbmc6IDEwcHggMTBweCA1cHg7XG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDFlbTtcbn1cbjpob3N0IC5jb250ZW50LXdyYXBwZXIgLmZyb20tbWUgLmltYWdlLWdyb3VwIC5pbWFnZS1ncm91cC1pbWFnZSxcbjpob3N0IC5jb250ZW50LXdyYXBwZXIgLmZyb20tdGhlbSAuaW1hZ2UtZ3JvdXAgLmltYWdlLWdyb3VwLWltYWdlIHtcbiAgaGVpZ2h0OiAxMDBweDtcbiAgd2lkdGg6IDEwMHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItbWVkaXVtKTtcbiAgYm9yZGVyLXJhZGl1czogMWVtO1xufVxuOmhvc3QgLmNvbnRlbnQtd3JhcHBlciAuZnJvbS1tZSAudGV4dCxcbjpob3N0IC5jb250ZW50LXdyYXBwZXIgLmZyb20tdGhlbSAudGV4dCB7XG4gIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgbWFyZ2luOiAwO1xufVxuOmhvc3QgLmNvbnRlbnQtd3JhcHBlciAuZnJvbS1tZSAudGV4dCA6Om5nLWRlZXAgcCxcbjpob3N0IC5jb250ZW50LXdyYXBwZXIgLmZyb20tdGhlbSAudGV4dCA6Om5nLWRlZXAgcCB7XG4gIG1hcmdpbjogMDtcbn1cbjpob3N0IC5jb250ZW50LXdyYXBwZXIgLmZyb20tbWUgLnRleHQgOjpuZy1kZWVwIGEsXG46aG9zdCAuY29udGVudC13cmFwcGVyIC5mcm9tLXRoZW0gLnRleHQgOjpuZy1kZWVwIGEge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xufVxuOmhvc3QgLmNvbnRlbnQtd3JhcHBlciAuZnJvbS1tZSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1saWdodC1zaGFkZSk7XG4gIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwcHg7XG4gIGZsb2F0OiByaWdodDtcbn1cbjpob3N0IC5jb250ZW50LXdyYXBwZXIgLmZyb20tdGhlbSB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1ncmFkaWVudCk7XG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDBweDtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1saWdodCk7XG4gIGZsb2F0OiBsZWZ0O1xufVxuOmhvc3QgaW9uLWZvb3RlciB0ZXh0YXJlYSB7XG4gIHBhZGRpbmc6IDVweCAxMHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBoZWlnaHQ6IDQwcHggIWltcG9ydGFudDtcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpO1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItbWVkaXVtKTtcbiAgb3V0bGluZTogbm9uZTtcbiAgcmVzaXplOiBub25lO1xuICBtYXJnaW46IDVweCAxMHB4IDBweDtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgY29sb3I6IGJsYWNrO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild, ElementRef, Injector } from '@angular/core';\nimport { Camera } from '@ionic-native/camera/ngx';\nimport { ActionSheetController, AlertController, ModalController, IonContent } from '@ionic/angular';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport * as firebase from \"firebase/app\";\nimport 'firebase/auth';\nimport { LoaderService } from 'src/app/services/loader.service';\nimport { DataService } from 'src/app/services/data.service';\nimport { ImageService } from 'src/app/services/image.service';\nimport { Extender } from 'src/shared/helpers/extender';\nimport { FeedAddComponent } from 'src/pages/feed/components/feed-add/feed-add.component';\nimport { AuthService } from 'src/pages/auth/services/auth/auth.service';\nimport { IUser } from 'src/pages/auth/helpers/model';\nimport { FirestoreService } from 'src/shared/services/firestore/firestore.service';\n\n/**\n * send messages between users. as a user, you can deactivate autoreply in setting page.\n * or remove autoreply method and all calls to it.\n * sending a message updates messages.message property with the latest message.\n * a function in firebase cloud functions checks every message update and sends a push notification to the device\n * check readme for info on cloud functions\n */\n@Component({\n  selector: \"app-message\",\n  templateUrl: \"./message.component.html\",\n  styleUrls: [\"./message.component.scss\"],\n})\nexport class MessageComponent extends Extender implements OnInit {\n    @ViewChild(IonContent, null) contentArea: IonContent;\n\n    userId: any;\n    title: any;\n    message: any;\n    conversationId: any;\n    messages: any;\n    updateDateTime: any;\n    messagesToShow: any;\n    startIndex: any = -1;\n    // Set number of messages to show.\n    numberOfMessages = 10;\n    loggedInUserId: any;\n\n    currentUser: IUser;\n  \n    // MessagePage\n    // This is the page where the user can chat with a friend.\n    constructor(\n      // public navCtrl: NavController,\n      // public navParams: NavParams,\n      protected injector: Injector,\n      private route: ActivatedRoute,\n      private dataProvider: DataService,\n      private angularfire: AngularFireDatabase,\n      private loadingProvider: LoaderService,\n      private imageProvider: ImageService,\n      private camera: Camera,\n      private actionSheet: ActionSheetController,\n      private geolocation: Geolocation,\n      private authService: AuthService,\n      private firestore: FirestoreService\n    ) { \n      super(injector);\n      this.route.paramMap.subscribe(params => {\n        this.userId = params.get(\"id\");\n      });\n    }\n  \n    ngOnInit() {\n  \n    }\n  \n    async ionViewDidEnter() {\n      console.log('ionViewDidEnter');\n      this.loggedInUserId = firebase.auth().currentUser.uid;\n\n      this.currentUser = await this.authService.getUser();\n      \n      // Get friend details.\n      this.dataProvider.getUser(this.userId).subscribe((user: any) => {\n        this.title = user.displayName;\n      });\n  \n      // Get conversationInfo with friend.\n      this.firestore.doc$('users/' + this.loggedInUserId + '/conversations/' + this.userId).subscribe((conversation: any) => {\n        if (conversation) {\n          // User already have conversation with this friend, get conversation\n          this.conversationId = conversation.conversationId;\n  \n          // Get conversation\n          this.dataProvider.getConversationMessages(this.conversationId).subscribe((messagesRes: any[]) => {\n  \n            let messages = messagesRes;\n            this.scrollBottom();\n            console.log(\"SCROLL TO BOTTOM CALLED\");\n            if (messages == null)\n              messages = [];\n            if (this.messages) {\n              // Just append newly added messages to the bottom of the view.\n              if (messages.length > this.messages.length) {\n                let message = messages[messages.length - 1];\n  \n                this.dataProvider.getUser(message.sender).subscribe((user: any) => {\n                  message.avatar = user.photoURL;\n                });\n                this.messages.push(message);\n                this.messagesToShow.push(message);\n              }\n            } else {\n              // Get all messages, this will be used as reference object for messagesToShow.\n              this.messages = [];\n              messages.forEach((message) => {\n                this.dataProvider.getUser(message.sender).subscribe((user: any) => {\n                  message.avatar = user.photoURL;\n                });\n                this.messages.push(message);\n              });\n              // Load messages in relation to numOfMessages.\n              if (this.startIndex == -1) {\n                // Get initial index for numberOfMessages to show.\n                if ((this.messages.length - this.numberOfMessages) > 0) {\n                  this.startIndex = this.messages.length - this.numberOfMessages;\n                } else {\n                  this.startIndex = 0;\n                }\n              }\n              if (!this.messagesToShow) {\n                this.messagesToShow = [];\n              }\n              // Set messagesToShow\n              for (var i = this.startIndex; i < this.messages.length; i++) {\n                this.messagesToShow.push(this.messages[i]);\n              }\n              this.loadingProvider.presentProcessingLoading();\n\n            }\n          });\n        }\n      });\n  \n      // Update messages' date time elapsed every minute based on Moment.js.\n      var that = this;\n      if (!that.updateDateTime) {\n        that.updateDateTime = setInterval(function () {\n          if (that.messages) {\n            that.messages.forEach((message) => {\n              let date = message.date;\n              message.date = new Date(date);\n            });\n          }\n        }, 60000);\n      }\n  \n      setTimeout(() => this.scrollBottom(), 1000);\n    }\n    // Load previous messages in relation to numberOfMessages.\n    loadPreviousMessages() {\n      var that = this;\n      // Show loading.\n      this.loadingProvider.presentProcessingLoading();\n      setTimeout(function () {\n        // Set startIndex to load more messages.\n        if ((that.startIndex - that.numberOfMessages) > -1) {\n          that.startIndex -= that.numberOfMessages;\n        } else {\n          that.startIndex = 0;\n        }\n        // Refresh our messages list.\n        that.messages = null;\n        that.messagesToShow = null;\n  \n        that.scrollTop();\n  \n        // Populate list again.\n        that.ionViewDidEnter();\n      }, 1000);\n    }\n  \n    // Update messagesRead when user lefts this page.\n    ionViewWillLeave() {\n      this.setMessagesRead();\n    }\n  \n    // Check if currentPage is active, then update user's messagesRead.\n    setMessagesRead() {\n      this.firestore.col$('conversations/' + this.conversationId + '/messages').subscribe((snap: any[]) => {\n  \n        if (snap != null) {\n          this.firestore.update('users/' + this.loggedInUserId + '/conversations/' + this.userId, {messagesRead: snap.length});\n        }\n      });\n    }\n  \n    scrollBottom() {\n      setTimeout(() => {\n        if (this.contentArea.scrollToBottom) {\n          this.contentArea.scrollToBottom();\n        }\n      }, 500);\n      this.setMessagesRead();\n    }\n  \n    scrollTop() {\n      setTimeout(() => {\n        if (this.contentArea.scrollToTop) {\n          this.contentArea.scrollToTop();\n        }\n      }, 500);\n    }\n  \n  \n    // Check if the user is the sender of the message.\n    isSender(message) {\n      if (message.sender == this.loggedInUserId) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  \n  \n    // Send message, if there's no conversation yet, create a new conversation.\n    send(type) {\n      if (this.message) {\n        // User entered a text on messagebox\n        if (this.conversationId) {\n          let messages = JSON.parse(JSON.stringify(this.messages));\n          messages.push({\n            date: new Date().toString(),\n            sender: this.loggedInUserId,\n            type: type,\n            message: this.message\n          });\n  \n          // Update conversation on database.\n          this.firestore.update('conversations/' + this.conversationId, {\n            messages: messages\n          });\n          // Clear messagebox.\n          this.message = '';\n          this.scrollBottom();\n        } else {\n          // New Conversation with friend.\n          var messages = [];\n          messages.push({\n            date: new Date().toString(),\n            sender: this.loggedInUserId,\n            type: type,\n            message: this.message\n          });\n          var users = [];\n          users.push(this.loggedInUserId);\n          users.push(this.userId);\n          // Add conversation.\n          let cid = this.firestore.createId();\n          this.firestore.set('conversations/' + cid, {\n            dateCreated: new Date().toString(),\n            messages: messages,\n            users: users\n          }).then((success) => {\n            let conversationId = cid;\n            this.message = '';\n            // Add conversation reference to the users.\n            this.firestore.update('users/' + this.loggedInUserId + '/conversations/' + this.userId, {\n              conversationId: conversationId,\n              messagesRead: 1\n            });\n            this.firestore.update('users/' + this.userId + '/conversations/' + this.loggedInUserId, {\n              conversationId: conversationId,\n              messagesRead: 0\n            });\n          });\n          this.scrollBottom();\n        }\n      }\n    }\n  \n    viewUser(userId) {\n      this.router.navigateByUrl('userinfo/' + userId);\n    }\n  \n  \n    attach() {\n      this.actionSheet.create({\n        header: 'Choose attachments',\n        buttons: [{\n          text: 'Camera',\n          handler: () => {\n            this.imageProvider.uploadPhotoMessage(this.conversationId, this.camera.PictureSourceType.CAMERA).then((url) => {\n              this.message = url;\n              this.send(\"image\");\n            });\n          }\n        }, {\n          text: 'Photo Library',\n          handler: () => {\n            this.imageProvider.uploadPhotoMessage(this.conversationId, this.camera.PictureSourceType.PHOTOLIBRARY).then((url) => {\n              this.message = url;\n              this.send(\"image\");\n            });\n          }\n        },\n        {\n          text: 'Video',\n          handler: () => {\n            this.imageProvider.uploadVideoMessage(this.conversationId).then(url => {\n              this.message = url;\n              this.send(\"video\");\n            });\n          }\n        }\n          , {\n          text: 'Location',\n          handler: () => {\n            this.geolocation.getCurrentPosition({\n              timeout: 5000\n            }).then(res => {\n              let locationMessage = \"Location:<br> lat:\" + res.coords.latitude + \"<br> lng:\" + res.coords.longitude;\n              let mapUrl = \"<a href='https://www.google.com/maps/search/\" + res.coords.latitude + \",\" + res.coords.longitude + \"'>View on Map</a>\";\n  \n              let confirm = this.alertCtrl.create({\n                header: 'Your Location',\n                message: locationMessage,\n                buttons: [{\n                  text: 'cancel',\n                  handler: () => {\n                    console.log(\"canceled\");\n                  }\n                }, {\n                  text: 'Share',\n                  handler: () => {\n                    this.message = locationMessage + \"<br>\" + mapUrl;\n                    this.send(\"location\");\n                  }\n                }]\n              }).then(r => r.present());\n            }, locationErr => {\n              console.log(\"Location Error\" + JSON.stringify(locationErr));\n            });\n          }\n        }, {\n          text: 'cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log(\"cancelled\");\n          }\n        }]\n      }).then(r => r.present());\n    }\n  \n    // Enlarge image messages.\n    enlargeImage(img) {\n      // this.modalCtrl.create({\n      //   component: ImagemodalPage,\n      //   componentProps: {\n      //     img: img\n      //   }\n      // }).then(res => res.present())\n    }\n  \n}\n","export default \":host ion-content .content-wrapper .content-scroll {\\n  padding: 0 20px;\\n}\\n:host ion-content .content-wrapper .content-scroll .messages {\\n  display: flex;\\n  align-items: center;\\n  margin: 20px 0;\\n}\\n:host ion-content .content-wrapper .content-scroll .messages .image {\\n  height: 60px;\\n  width: 60px;\\n  border-radius: 3px;\\n  box-shadow: 1px 1px 12px var(--ion-color-light-shade);\\n}\\n:host ion-content .content-wrapper .content-scroll .messages .detail {\\n  margin-left: 15px;\\n  flex: 1;\\n}\\n:host ion-content .content-wrapper .content-scroll .messages .detail .name {\\n  font-weight: 500;\\n  font-size: 16px;\\n}\\n:host ion-content .content-wrapper .content-scroll .messages .detail .msg {\\n  font-size: 14px;\\n  color: var(--ion-color-medium-shade);\\n  white-space: nowrap;\\n  width: 150px;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n}\\n:host ion-content .content-wrapper .content-scroll .messages .date {\\n  width: 63px;\\n  display: flex;\\n  flex-direction: column;\\n  font-size: 10px;\\n  color: var(--ion-color-medium-shade);\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n:host ion-content .content-wrapper .content-scroll .messages .action {\\n  margin-right: 15px;\\n}\\n:host ion-footer .buttons {\\n  margin: 5px 0 5px 15px;\\n  display: flex;\\n  align-items: center;\\n}\\n:host ion-footer .buttons ion-button {\\n  width: 100%;\\n}\\n:host ion-footer .buttons ion-button.right {\\n  float: right;\\n}\\n.ion-float-right {\\n  Padding-right: 15px;\\n}\\n@media (min-width: 829px) {\\n  img#hide {\\n    display: none;\\n  }\\n}\\n.writer {\\n  position: fixed;\\n  Top: 55px;\\n  right: -8px;\\n  z-index: 999;\\n}\\n.options {\\n  margin-right: 110px;\\n}\\n.tool {\\n  box-shadow: 0px 0.2px 0px #a8a8a8 !important;\\n}\\n.badgemsg {\\n  width: 20px;\\n  height: 17px;\\n  position: absolute;\\n  right: 0;\\n  bottom: 8px;\\n  font-size: 10px;\\n  z-index: 999;\\n}\\n.badge {\\n  width: 20px;\\n  height: 17px;\\n  position: absolute;\\n  right: 0;\\n  bottom: 8px;\\n  font-size: 10px;\\n  z-index: 999;\\n}\\n.colr {\\n  --box-shadow:none;\\n  outline: none;\\n  border-radius: 50% !important;\\n}\\n.unread-conv {\\n  --background: #eeeeeeab;\\n  --padding-top: 8px;\\n  --padding-bottom: 7px;\\n}\\n.msg-circle {\\n  width: 15px;\\n  height: 15px;\\n  background: #2fcc71;\\n  border-radius: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNib29rL0Rlc2t0b3AvQ2xpZW50cy9kci9zcmMvcGFnZXMvbWVzc2FnZXMvY29tcG9uZW50cy9tZXNzYWdlcy9tZXNzYWdlcy5jb21wb25lbnQuc2NzcyIsInNyYy9wYWdlcy9tZXNzYWdlcy9jb21wb25lbnRzL21lc3NhZ2VzL21lc3NhZ2VzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdNO0VBQ0UsZUFBQTtBQ0ZSO0FESVE7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxjQUFBO0FDRlY7QURJVTtFQUNFLFlBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxxREFBQTtBQ0ZaO0FES1U7RUFDRSxpQkFBQTtFQUNBLE9BQUE7QUNIWjtBREtZO0VBQ0UsZ0JBQUE7RUFDQSxlQUFBO0FDSGQ7QURNWTtFQUNFLGVBQUE7RUFDQSxvQ0FBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLHVCQUFBO0VBQ0EsZ0JBQUE7QUNKZDtBRFFVO0VBQ0UsV0FBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGVBQUE7RUFDQSxvQ0FBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7QUNOWjtBRFFVO0VBQ0Usa0JBQUE7QUNOWjtBRGFJO0VBQ0Usc0JBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7QUNYTjtBRFlNO0VBQ0UsV0FBQTtBQ1ZSO0FEV1E7RUFDRSxZQUFBO0FDVFY7QURnQkE7RUFDQSxtQkFBQTtBQ2JBO0FEZ0JBO0VBQ0U7SUFDRSxhQUFBO0VDYkY7QUFDRjtBRGdCQTtFQUNJLGVBQUE7RUFDQSxTQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNkSjtBRGlCQTtFQUNBLG1CQUFBO0FDZEE7QURrQkE7RUFDRSw0Q0FBQTtBQ2ZGO0FEa0JBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7QUNmRjtBRG1CQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0FDaEJGO0FEb0JBO0VBRUUsaUJBQUE7RUFDQSxhQUFBO0VBQ0EsNkJBQUE7QUNsQkY7QURxQkE7RUFDRSx1QkFBQTtFQUNFLGtCQUFBO0VBQ0EscUJBQUE7QUNsQko7QURxQkE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7QUNsQkYiLCJmaWxlIjoic3JjL3BhZ2VzL21lc3NhZ2VzL2NvbXBvbmVudHMvbWVzc2FnZXMvbWVzc2FnZXMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIGlvbi1jb250ZW50IHtcbiAgICAuY29udGVudC13cmFwcGVyIHtcbiAgICAgIC5jb250ZW50LXNjcm9sbCB7XG4gICAgICAgIHBhZGRpbmc6IDAgMjBweDtcblxuICAgICAgICAubWVzc2FnZXMge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBtYXJnaW46IDIwcHggMDtcblxuICAgICAgICAgIC5pbWFnZSB7XG4gICAgICAgICAgICBoZWlnaHQ6IDYwcHg7XG4gICAgICAgICAgICB3aWR0aDogNjBweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDFweCAxcHggMTJweCB2YXIoLS1pb24tY29sb3ItbGlnaHQtc2hhZGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5kZXRhaWwge1xuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDE1cHg7XG4gICAgICAgICAgICBmbGV4OiAxO1xuXG4gICAgICAgICAgICAubmFtZSB7XG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLm1zZyB7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1tZWRpdW0tc2hhZGUpO1xuICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICAgICAgICB3aWR0aDogMTUwcHg7XG4gICAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC5kYXRlIHtcbiAgICAgICAgICAgIHdpZHRoOiA2M3B4O1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1lZGl1bS1zaGFkZSk7XG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmFjdGlvbiB7XG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlvbi1mb290ZXIge1xuICAgIC5idXR0b25zIHtcbiAgICAgIG1hcmdpbjogNXB4IDAgNXB4IDE1cHg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGlvbi1idXR0b24ge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgJi5yaWdodCB7XG4gICAgICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi5pb24tZmxvYXQtcmlnaHR7XG5QYWRkaW5nLXJpZ2h0OiAxNXB4O1xufVxuXG5AbWVkaWEgKG1pbi13aWR0aDo4MjlweCkge1xuICBpbWcjaGlkZSB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxufVxuXG4ud3JpdGVyIHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgVG9wOiA1NXB4O1xuICAgIHJpZ2h0OiAtOHB4O1xuICAgIHotaW5kZXg6IDk5OTsgXG59XG5cbi5vcHRpb25ze1xubWFyZ2luLXJpZ2h0OiAxMTBweDtcblxufVxuXG4udG9vbCB7XG4gIGJveC1zaGFkb3c6IDBweCAwLjJweCAwcHggI2E4YThhOCFpbXBvcnRhbnQ7XG59XG5cbi5iYWRnZW1zZyB7XG4gIHdpZHRoOiAyMHB4O1xuICBoZWlnaHQ6IDE3cHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogOHB4O1xuICBmb250LXNpemU6IDEwcHg7XG4gIHotaW5kZXg6IDk5OTtcbn1cblxuXG4uYmFkZ2Uge1xuICB3aWR0aDogMjBweDtcbiAgaGVpZ2h0OiAxN3B4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDhweDtcbiAgZm9udC1zaXplOiAxMHB4O1xuICB6LWluZGV4OiA5OTk7XG59XG5cblxuLmNvbHJ7XG4gIFxuICAtLWJveC1zaGFkb3c6bm9uZTtcbiAgb3V0bGluZTogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogNTAlICFpbXBvcnRhbnQ7XG59XG5cbi51bnJlYWQtY29udiB7XG4gIC0tYmFja2dyb3VuZDogI2VlZWVlZWFiO1xuICAgIC0tcGFkZGluZy10b3A6IDhweDtcbiAgICAtLXBhZGRpbmctYm90dG9tOiA3cHg7XG59XG5cbi5tc2ctY2lyY2xlIHtcbiAgd2lkdGg6IDE1cHg7XG4gIGhlaWdodDogMTVweDtcbiAgYmFja2dyb3VuZDogIzJmY2M3MTtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xufSIsIjpob3N0IGlvbi1jb250ZW50IC5jb250ZW50LXdyYXBwZXIgLmNvbnRlbnQtc2Nyb2xsIHtcbiAgcGFkZGluZzogMCAyMHB4O1xufVxuOmhvc3QgaW9uLWNvbnRlbnQgLmNvbnRlbnQtd3JhcHBlciAuY29udGVudC1zY3JvbGwgLm1lc3NhZ2VzIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWFyZ2luOiAyMHB4IDA7XG59XG46aG9zdCBpb24tY29udGVudCAuY29udGVudC13cmFwcGVyIC5jb250ZW50LXNjcm9sbCAubWVzc2FnZXMgLmltYWdlIHtcbiAgaGVpZ2h0OiA2MHB4O1xuICB3aWR0aDogNjBweDtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBib3gtc2hhZG93OiAxcHggMXB4IDEycHggdmFyKC0taW9uLWNvbG9yLWxpZ2h0LXNoYWRlKTtcbn1cbjpob3N0IGlvbi1jb250ZW50IC5jb250ZW50LXdyYXBwZXIgLmNvbnRlbnQtc2Nyb2xsIC5tZXNzYWdlcyAuZGV0YWlsIHtcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XG4gIGZsZXg6IDE7XG59XG46aG9zdCBpb24tY29udGVudCAuY29udGVudC13cmFwcGVyIC5jb250ZW50LXNjcm9sbCAubWVzc2FnZXMgLmRldGFpbCAubmFtZSB7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGZvbnQtc2l6ZTogMTZweDtcbn1cbjpob3N0IGlvbi1jb250ZW50IC5jb250ZW50LXdyYXBwZXIgLmNvbnRlbnQtc2Nyb2xsIC5tZXNzYWdlcyAuZGV0YWlsIC5tc2cge1xuICBmb250LXNpemU6IDE0cHg7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbWVkaXVtLXNoYWRlKTtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgd2lkdGg6IDE1MHB4O1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbjpob3N0IGlvbi1jb250ZW50IC5jb250ZW50LXdyYXBwZXIgLmNvbnRlbnQtc2Nyb2xsIC5tZXNzYWdlcyAuZGF0ZSB7XG4gIHdpZHRoOiA2M3B4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBmb250LXNpemU6IDEwcHg7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItbWVkaXVtLXNoYWRlKTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cbjpob3N0IGlvbi1jb250ZW50IC5jb250ZW50LXdyYXBwZXIgLmNvbnRlbnQtc2Nyb2xsIC5tZXNzYWdlcyAuYWN0aW9uIHtcbiAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xufVxuOmhvc3QgaW9uLWZvb3RlciAuYnV0dG9ucyB7XG4gIG1hcmdpbjogNXB4IDAgNXB4IDE1cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG46aG9zdCBpb24tZm9vdGVyIC5idXR0b25zIGlvbi1idXR0b24ge1xuICB3aWR0aDogMTAwJTtcbn1cbjpob3N0IGlvbi1mb290ZXIgLmJ1dHRvbnMgaW9uLWJ1dHRvbi5yaWdodCB7XG4gIGZsb2F0OiByaWdodDtcbn1cblxuLmlvbi1mbG9hdC1yaWdodCB7XG4gIFBhZGRpbmctcmlnaHQ6IDE1cHg7XG59XG5cbkBtZWRpYSAobWluLXdpZHRoOiA4MjlweCkge1xuICBpbWcjaGlkZSB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxufVxuLndyaXRlciB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgVG9wOiA1NXB4O1xuICByaWdodDogLThweDtcbiAgei1pbmRleDogOTk5O1xufVxuXG4ub3B0aW9ucyB7XG4gIG1hcmdpbi1yaWdodDogMTEwcHg7XG59XG5cbi50b29sIHtcbiAgYm94LXNoYWRvdzogMHB4IDAuMnB4IDBweCAjYThhOGE4ICFpbXBvcnRhbnQ7XG59XG5cbi5iYWRnZW1zZyB7XG4gIHdpZHRoOiAyMHB4O1xuICBoZWlnaHQ6IDE3cHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogOHB4O1xuICBmb250LXNpemU6IDEwcHg7XG4gIHotaW5kZXg6IDk5OTtcbn1cblxuLmJhZGdlIHtcbiAgd2lkdGg6IDIwcHg7XG4gIGhlaWdodDogMTdweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbiAgYm90dG9tOiA4cHg7XG4gIGZvbnQtc2l6ZTogMTBweDtcbiAgei1pbmRleDogOTk5O1xufVxuXG4uY29sciB7XG4gIC0tYm94LXNoYWRvdzpub25lO1xuICBvdXRsaW5lOiBub25lO1xuICBib3JkZXItcmFkaXVzOiA1MCUgIWltcG9ydGFudDtcbn1cblxuLnVucmVhZC1jb252IHtcbiAgLS1iYWNrZ3JvdW5kOiAjZWVlZWVlYWI7XG4gIC0tcGFkZGluZy10b3A6IDhweDtcbiAgLS1wYWRkaW5nLWJvdHRvbTogN3B4O1xufVxuXG4ubXNnLWNpcmNsZSB7XG4gIHdpZHRoOiAxNXB4O1xuICBoZWlnaHQ6IDE1cHg7XG4gIGJhY2tncm91bmQ6ICMyZmNjNzE7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbn0iXX0= */\"","import { Component, ElementRef, Injector, OnInit, ViewChild } from \"@angular/core\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport * as firebase from \"firebase/app\";\nimport 'firebase/auth';\nimport { DataService } from \"src/app/services/data.service\";\nimport { LoaderService } from \"src/app/services/loader.service\";\nimport { AuthService } from \"src/pages/auth/services/auth/auth.service\";\nimport { NotificationService } from \"src/app/notifications/service/notification.service\";\nimport { MenuController, ModalController, NavController } from \"@ionic/angular\";\nimport { Extender } from \"src/shared/helpers/extender\";\nimport { FeedAddComponent } from \"src/pages/feed/components/feed-add/feed-add.component\";\nimport { FirestoreService } from \"src/shared/services/firestore/firestore.service\";\nimport { MessagesService } from \"src/app/services/messages.service\";\n\n/**\n * view users messages, manage messages.\n */\n@Component({\n  selector: \"app-messages\",\n  templateUrl: \"./messages.component.html\",\n  styleUrls: [\"./messages.component.scss\"],\n})\nexport class MessagesComponent extends Extender implements OnInit {\n\n  tab = \"chat\";\n  conversations: any;\n  updateDateTime: any;\n  searchFriend: any = '';\n  groups: any;\n  searchGroup: any;\n  isLoading;\n\n  unreadMessagesCount = 0;\n  unreadGroupMessagesCount = 0;\n  conversationsInfo = [];\n  groupsInfo = [];\n\n  constructor(\n    protected injector: Injector,\n    private loadingProvider: LoaderService,\n    private dataProvider: DataService,\n    private authService: AuthService,\n    private notificationService: NotificationService,\n    private menuCtrl: MenuController,\n    private navCtrl: NavController,\n    private firestore: FirestoreService,\n    public messagesService: MessagesService,\n    private route: ActivatedRoute\n  ) { \n    super(injector);\n    this.route.queryParamMap.subscribe(params => {\n      if(params.get('isRefresh')) {\n        this.tab = 'chat';\n      }\n    })\n  }\n\n  ngOnInit() {\n    this.searchGroup = '';\n    this.messagesService.initConversation();\n    // Get groups\n    \n  }\n\n  segmentChanged(event: any) {\n    console.log(event);\n    if(event.detail.value === 'group') {\n      this.messagesService.initGroups();\n    } else {\n      this.messagesService.initConversation();\n    }\n  }\n\n  // Open Group Chat.\n  viewGroup(groupId) {\n    this.navCtrl.navigateForward('group', {\n      queryParams: {\n        groupId: groupId\n      }\n    });\n  }\n\n  // Return class based if group has unreadMessages or not.\n  hasGroupUnreadMessages(group) {\n    if (group.unreadMessagesCount > 0) {\n      return 'group bold';\n    } else\n      return 'group';\n  }\n\n  async ionViewDidEnter() {\n  }\n\n  // Add or update conversation for real-time sync based on our observer, sort by active date.\n  \n\n  // Open chat with friend.\n  message(userId, name, img) {\n    this.navCtrl.navigateForward('message', {\n      queryParams: {\n        id: userId,\n        name: name,\n        img: img\n      }\n    });\n    // this.app.getRootNav().push(MessagePage, { userId: userId });\n  }\n\n  // Return class based if conversation has unreadMessages or not.\n  hasUnreadMessages(conversation) {\n    if (conversation.unreadMessagesCount > 0) {\n      return 'bold';\n    } else\n      return '';\n  }\n\n  openMenu() {\n    this.menuCtrl.enable(true, \"first\");\n    this.menuCtrl.toggle(\"first\");\n  }\n\n  public goToMessages() {\n    this.goto(this.routes.messages);\n  }\n\n  public goToNotifications() {\n    this.goto(this.routes.notifications);\n  }\n\n    /** open add post modal, add to array of feed after completed */\n public async addPost(): Promise<any> {\n  const modal = await this.openModal(FeedAddComponent, null, \"custom-modal\");\n  await modal.present();\n  modal.onWillDismiss().then(async (modalData) => {\n    if (modalData.data === \"save\") {\n      this.doRefreshTop();\n    }\n  });\n }\n\n  public doRefreshTop(event?: any) {\n    // this.loadPosts(event);\n    // this.feedService\n    //   .getFeedPrevious(this.user.uid, cursor)\n    //   .pipe(take(1))\n    //   .subscribe(\n    //     (feed: any) => {\n    //       if (event) {\n    //         event.target.complete();\n    //       }\n    //       if (feed.length > 0) {\n    //         for (let i = feed.length; i >= 0; i--) {\n    //           this.feed.unshift(feed[i]);\n    //         }\n    //       }\n    //     },\n    //     (err) => {\n    //       this.loading = false;\n    //       this.toast(err);\n    //     }\n    //   );\n  }\n\n  createGroup() {\n    this.navCtrl.navigateForward('newgroup');\n  }\n\n  \n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { SharedModule } from 'src/shared/shared.module';\nimport { MessageComponent } from './components/message/message.component';\nimport { MessagesComponent } from './components/messages/messages.component';\n\n@NgModule({\n  declarations: [MessagesComponent, MessageComponent],\n  entryComponents: [MessageComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: MessagesComponent\n      },\n      {\n        path: ':id',\n        component: MessagesComponent\n      }\n    ])\n  ]\n})\nexport class MessagesModule { }\n"],"sourceRoot":"webpack:///"}