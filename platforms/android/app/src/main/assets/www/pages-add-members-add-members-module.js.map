{"version":3,"sources":["./src/app/pages/add-members/add-members.page.html","./src/app/pages/add-members/add-members.module.ts","./src/app/pages/add-members/add-members.page.scss","./src/app/pages/add-members/add-members.page.ts","./src/app/services/data.service.ts"],"names":[],"mappings":"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","file":"pages-add-members-add-members-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button mode=\\\"md\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Add Memebers</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"done()\\\">Done</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <!-- All friends already in the group. -->\\n  <div class=\\\"empty-list\\\" *ngIf=\\\"friends && friends.length == 0\\\">\\n    <h1>\\n      <ion-icon name=\\\"people-outline\\\"></ion-icon>\\n    </h1>\\n    <p>Uh-oh! Sorry but your friends are already a member of this group.</p>\\n  </div>\\n  <!-- Add/Cancel Add friends to the group. -->\\n  <ion-list lines=\\\"none\\\" *ngIf=\\\"friends && friends.length > 0\\\">\\n    <ion-searchbar [(ngModel)]=\\\"searchFriend\\\" placeholder=\\\"Search for friend or username\\\" showCancelButton=\\\"true\\\"\\n      cancelButtonText=\\\"Done\\\"></ion-searchbar>\\n      <ng-container *ngFor=\\\"let friend of friends | friendFilter:searchFriend\\\">\\n        <ion-item *ngIf=\\\"friend.displayName\\\" (click)=\\\"addOrRemove(friend)\\\">\\n\\n          <ion-avatar slot=\\\"start\\\">\\n            <img src=\\\"{{friend.img}}\\\" onError=\\\"this.src='./assets/images/default-dp.png'\\\">\\n          </ion-avatar>\\n          <ion-label>\\n            <ion-text>\\n              <h2>{{friend.displayName}}</h2>\\n            </ion-text>\\n          </ion-label>\\n          <ion-button size=\\\"small\\\" slot=\\\"end\\\" fill=\\\"outline\\\" (click)=\\\"add(friend); $event.stopPropagation();\\\"\\n            *ngIf=\\\"!isAdded(friend)\\\">Add</ion-button>\\n          <ion-button size=\\\"small\\\" slot=\\\"end\\\" fill=\\\"outline\\\" (click)=\\\"remove(friend); $event.stopPropagation();\\\"\\n            *ngIf=\\\"isAdded(friend)\\\">Remove</ion-button>\\n        </ion-item>\\n      </ng-container>\\n      \\n  </ion-list>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddMembersPage } from './add-members.page';\nimport { SharedModule } from 'src/shared/shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddMembersPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AddMembersPage]\n})\nexport class AddMembersPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FkZC1tZW1iZXJzL2FkZC1tZW1iZXJzLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { DataService } from 'src/app/services/data.service';\nimport { LoaderService } from 'src/app/services/loader.service';\nimport { FirestoreService } from 'src/shared/services/firestore/firestore.service';\n\n@Component({\n  selector: 'app-add-members',\n  templateUrl: './add-members.page.html',\n  styleUrls: ['./add-members.page.scss'],\n})\nexport class AddMembersPage implements OnInit {\n\n  groupId: any;\n  group: any;\n  groupMembers: any;\n  friends: any;\n  searchFriend: any;\n  toAdd: any;\n  user: any;\n  // AddMemberPage\n  // This is the page where the user can add their friends to an existing group.\n  // The user can only add their friends to the group.\n  constructor(\n    private route: ActivatedRoute,\n    private dataProvider: DataService,\n    private loadingProvider: LoaderService,\n    private alertCtrl: AlertController,\n    private firestore: FirestoreService\n  ) {\n    this.route.queryParamMap.subscribe(params => {\n      this.groupId = params.get('id');\n    })\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewDidEnter() {\n\n    this.searchFriend = '';\n    this.toAdd = [];\n    this.loadingProvider.presentProcessingLoading();\n\n    // Get user information for system message sent to the group when a member was added.\n    this.dataProvider.getCurrentUser().subscribe((user) => {\n      this.user = user;\n    });\n\n    // Get group information\n    this.dataProvider.getGroup(this.groupId).subscribe((group: any) => {\n      this.group = group;\n      this.groupMembers = null;\n      // Get group members\n      if (group.members) {\n        group.members.forEach((memberId) => {\n          this.dataProvider.getUser(memberId).subscribe((member) => {\n            this.addOrUpdateMember(member);\n          });\n        });\n        // Get user's friends to add\n        this.dataProvider.getCurrentUser().subscribe((account: any) => {\n          this.firestore.doc$(`friends/${account.uid}`).subscribe((resp: any) => {\n            if (resp.friendIds) {\n              for (var i = 0; i < resp.friendIds.length; i++) {\n                this.dataProvider.getUser(resp.friendIds[i]).subscribe((friendRes: any) => {\n                  // Only friends that are not yet a member of this group can be added.\n                  let friend = friendRes;\n                  console.log(friend)\n                  if (!this.isMember(friend))\n                    this.addOrUpdateFriend(friend);\n                });\n              }\n              this.loadingProvider.dismissLoader();\n              if (!this.friends) {\n                this.friends = [];\n              }\n            } else {\n              this.friends = [];\n            }\n          });\n        });\n      }\n      console.log(this.friends);\n      this.loadingProvider.dismissLoader();\n    });\n  }\n\n  // Check if friend is a member of the group or not.\n  isMember(friend) {\n    if (this.groupMembers) {\n      for (var i = 0; i < this.groupMembers.length; i++) {\n        if (this.groupMembers[i].uid == friend.uid) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  // Check if friend is already on the list of members to be added.\n  isAdded(friend) {\n    if (this.toAdd) {\n      for (var i = 0; i < this.toAdd.length; i++) {\n        if (this.toAdd[i].uid == friend.uid) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  // Toggle for adding/removing friend on the list of members to be added.\n  addOrRemove(friend) {\n    if (this.isAdded(friend)) {\n      this.remove(friend);\n    } else {\n      this.add(friend);\n    }\n  }\n\n  // Add or update friend information for real-time sync.\n  addOrUpdateFriend(friend) {\n    if (!this.friends) {\n      this.friends = [friend];\n    } else {\n      var index = -1;\n      for (var i = 0; i < this.friends.length; i++) {\n        if (this.friends[i].uid == friend.uid) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.friends[index] = friend;\n      } else {\n        this.friends.push(friend);\n      }\n    }\n  }\n\n  // Add or update member information for real-time sync.\n  addOrUpdateMember(member) {\n    if (!this.groupMembers) {\n      this.groupMembers = [member];\n    } else {\n      var index = -1;\n      for (var i = 0; i < this.groupMembers.length; i++) {\n        if (this.groupMembers[i].uid == member.uid) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.groupMembers[index] = member;\n      } else {\n        this.groupMembers.push(member);\n      }\n    }\n  }\n\n  // Add friend to the list of to be added.\n  add(friend) {\n    this.toAdd.push(friend);\n  }\n\n  // Remove friend from the list of to be added.\n  remove(friend) {\n    this.toAdd.splice(this.toAdd.indexOf(friend), 1);\n  }\n  // Get names of the members to be added to the group.\n  getNames() {\n    var names = '';\n    this.toAdd.forEach((friend) => {\n      names += friend.displayName + ', ';\n    });\n    return names.substring(0, names.length - 2);\n  }\n\n  // Confirm adding of new members, afterwards add the members.\n  done() {\n    this.alertCtrl.create({\n      header: 'Add Members',\n      message: 'Are you sure you want to add <b>' + this.getNames() + '</b> to the group?',\n      buttons: [\n        {\n          text: 'Cancel'\n        },\n        {\n          text: 'Add',\n          handler: data => {\n            // Proceed\n            this.loadingProvider.presentProcessingLoading();\n            this.toAdd.forEach((friend) => {\n              // Add groupInfo to each friend added to the group.\n              this.firestore.set('users/' + friend.uid + '/groups/' + this.groupId, {\n                id: this.groupId,\n                messagesRead: 0\n              });\n              // Add friend as members of the group.\n              console.log(friend.uid);\n              console.log(this.group.members);\n              this.group.members.push(friend.uid);\n              // Add system message that the members are added to the group.\n            });\n            let msgID = this.firestore.createId();\n            let msgObj = {\n              date: new Date().toString(),\n              sender: this.user.uid,\n              type: 'system',\n              message: this.user.displayName + ' has added ' + this.getNames() + ' to the group.',\n              icon: 'people-outline',\n              id: msgID\n            }\n            // Update group data on the database.\n            this.firestore.update('groups/' + this.groupId, {\n              members: this.group.members\n            }).then(() => {\n              // Back.\n              this.loadingProvider.dismissLoader();\n            });\n            this.firestore.set('groups/' + this.groupId + '/messages/' + msgID, msgObj).then(() => {\n              // Back.\n              this.loadingProvider.dismissLoader();\n            });\n          }\n        }\n      ]\n    }).then(r => r.present());\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFireDatabase, AngularFireAction } from '@angular/fire/database';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport 'firebase/auth';\nimport * as firebase from \"firebase/app\";\nimport { FirestoreService } from 'src/shared/services/firestore/firestore.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService {\n\n  constructor(\n    private afAuth: AngularFireAuth,\n    private afdb: AngularFireDatabase,\n    private firestore: FirestoreService\n  ) { }\n\n\n  // Get all users\n  getUsers() {\n    // return this.afdb.list('/accounts', ref => ref.orderByChild('name'));\n  }\n\n  searchUser(keyword) {\n    // return this.firestore.list('/accounts', (ref: any) => ref.where('name', '>=',keyword).where('name','<=',keyword + \"\\uf8ff\").orderBy('name'));\n  }\n\n  // Get user with username\n  getUserWithUsername(username) {\n    return this.firestore.col$('users', ref => ref.orderByChild('username').equalTo(username));\n  }\n\n  // Get logged in user data\n  getCurrentUser() {\n    return this.firestore.doc$('users/' + firebase.auth().currentUser.uid);\n  }\n\n  // Get user by their userId\n  getUser(userId) {\n    return this.firestore.doc$('users/' + userId);\n  }\n\n  // Get requests given the userId.\n  getRequests(userId) {\n    return this.afdb.object('/requests/' + userId);\n  }\n\n  // Get friend requests given the userId.\n  getFriendRequests(userId) {\n    return this.afdb.list('/requests', ref => ref.orderByChild('receiver').equalTo(userId));\n  }\n\n  // Get conversation given the conversationId.\n  getConversation(conversationId) {\n    return this.firestore.doc$('conversations/' + conversationId);\n  }\n\n  // Get conversations of the current logged in user.\n  public getConversations() {\n    return this.firestore.colWithIds$('users/' + firebase.auth().currentUser.uid + '/conversations', ref => ref.orderBy('createdAt', 'desc'));\n  }\n\n  // Get messages of the conversation given the Id.\n  getConversationMessages(conversationId) {\n    return this.firestore.colOnce$('conversations/' + conversationId + '/messages', ref => ref.orderBy('createdAt', 'desc'));\n  }\n\n  // Get messages of the group given the Id.\n  getGroupMessages(groupId, date) {\n    return this.firestore.colOnce$('groups/' + groupId + '/messages', ref => ref.orderBy('createdAt').startAt(date));\n  }\n\n  // Get groups of the logged in user.\n  getGroups() {\n    return this.firestore.col$('users/' + firebase.auth().currentUser.uid + '/groups');\n  }\n\n  // Get group info given the groupId.\n  getGroup(groupId) {\n    return this.firestore.doc$('groups/' + groupId);\n  }\n\n  getBlockedLists() {\n    return this.firestore.col$('users/' + firebase.auth().currentUser.uid + '/conversations', ref => ref.orderByChild('blocked').equalTo(true));\n  }\n\n}\n"],"sourceRoot":"webpack:///"}