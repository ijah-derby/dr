{"version":3,"sources":["./src/app/component/upload-progress/upload-progress.component.html","./src/app/pages/group/group.page.html","./src/app/component/upload-progress/upload-progress.component.scss","./src/app/component/upload-progress/upload-progress.component.ts","./src/app/pages/group/group.module.ts","./src/app/pages/group/group.page.scss","./src/app/pages/group/group.page.ts"],"names":[],"mappings":"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","file":"pages-group-group-module.js","sourcesContent":["export default \"<div class=\\\"container\\\">\\n\\n  <ion-progress-bar [value]=\\\"percentage/100\\\"></ion-progress-bar>\\n  <p>{{percentage}}% Uploaded</p>\\n\\n</div>\"","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button mode=\\\"md\\\" defaultHref=\\\"messages\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{title}}</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button fill=\\\"clear\\\" (click)=\\\"groupInfo()\\\">\\n        <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div class=\\\"messages\\\" #content>\\n    <p class=\\\"center\\\" *ngIf=\\\"startIndex > 0\\\"><span tappable (click)=\\\"loadPreviousMessages()\\\">Load previous\\n        messages</span></p>\\n    <div *ngFor=\\\"let message of messagesToShow\\\">\\n      <!--  System Message -->\\n      <div *ngIf=\\\"isSystemMessage(message)\\\" class=\\\"system-msg\\\">\\n        <p>\\n          <ion-icon name=\\\"{{message.icon}}\\\"></ion-icon>\\n          {{message.message}} {{message.date | DateFormat}}\\n        </p>\\n      </div>\\n      <!--  Message -->\\n      <div *ngIf=\\\"isSender(message) && !isSystemMessage(message)\\\" class=\\\"chatbox right\\\">\\n\\n        <div *ngIf=\\\"isSender(message) && !isSystemMessage(message)\\\">\\n          <div class=\\\"msg-header\\\" (click)=\\\"viewUser(message.sender)\\\">\\n            <img *ngIf=\\\"!message.avatar\\\" src=\\\"../../../assets/images/default-group.png\\\" alt=\\\"\\\">\\n            <img *ngIf=\\\"message.avatar\\\" [src]=\\\"message.avatar\\\" alt=\\\"\\\">\\n            <h6 class=\\\"msg-name\\\">{{message.displayName ?  message.displayName : 'User Deleted'}}</h6>\\n          </div>\\n          <div *ngIf=\\\"message.type == 'text'\\\">\\n            <p>{{message.message}}</p>\\n            <span>{{message.date | DateFormat}}</span>\\n          </div>\\n          <div *ngIf=\\\"message.type == 'location'\\\" [innerHtml]=\\\"message.message\\\"></div>\\n          <div *ngIf=\\\"message.type == 'image'\\\">\\n            <img tappable (click)=\\\"enlargeImage(message.url)\\\" src=\\\"{{message.url}}\\\" (load)=\\\"scrollBottom()\\\"\\n              onError=\\\"this.src='./assets/images/default-dp.png'\\\" />\\n            <span>{{message.date | DateFormat}}</span>\\n          </div>\\n          <div *ngIf=\\\"message.type == 'video'\\\">\\n            <video controls width=\\\"100%\\\">\\n              <source src=\\\"{{message.url}}\\\" type=\\\"video/mp4\\\">\\n            </video>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div *ngIf=\\\"!isSender(message) && !isSystemMessage(message)\\\" class=\\\"chatbox left\\\">\\n        <div class=\\\"msg-header\\\" (click)=\\\"viewUser(message.sender)\\\">\\n          <img *ngIf=\\\"!message.avatar\\\" src=\\\"../../../assets/images/default-group.png\\\" alt=\\\"\\\" tappable (load)=\\\"scrollBottom()\\\">\\n          <img *ngIf=\\\"message.avatar\\\" [src]=\\\"message.avatar\\\" alt=\\\"\\\" tappable (load)=\\\"scrollBottom()\\\">\\n          <h6 class=\\\"msg-name\\\">{{message.displayName ?  message.displayName : 'User Deleted'}}</h6>\\n        </div>\\n        <!-- <img src=\\\"{{message.avatar}}\\\" tappable (click)=\\\"viewUser(message.sender)\\\" (load)=\\\"scrollBottom()\\\"\\n          onError=\\\"this.src='./assets/images/default-dp.png'\\\" style=\\\"height:30px; border-radius: 100%;float:left;\\\" /> -->\\n        <div *ngIf=\\\"message.type == 'text'\\\">\\n          <p>{{message.message}}</p>\\n          <span>{{message.date | DateFormat}}</span>\\n        </div>\\n        <div *ngIf=\\\"message.type == 'location'\\\" [innerHtml]=\\\"message.message\\\"></div>\\n        <div *ngIf=\\\"message.type == 'image'\\\">\\n          <img tappable (click)=\\\"enlargeImage(message.url)\\\" src=\\\"{{message.url}}\\\"\\n            onError=\\\"this.src='./assets/images/default-dp.png'\\\" (load)=\\\"scrollBottom()\\\" />\\n          <span>{{message.date | DateFormat}}</span>\\n        </div>\\n        <div *ngIf=\\\"message.type == 'video'\\\">\\n          <video controls width=\\\"100%\\\" #videoPlayer>\\n            <source src=\\\"{{message.url}}\\\" type=\\\"video/mp4\\\">\\n          </video>\\n        </div>\\n      </div>\\n\\n    </div>\\n  </div>\\n</ion-content>\\n<!-- Message Box -->\\n<ion-footer>\\n  <ion-toolbar>\\n    <ion-item lines=\\\"none\\\">\\n      <ion-button slot=\\\"start\\\" fill=\\\"clear\\\" (click)=\\\"attach()\\\">\\n        <ion-icon name=\\\"attach\\\"></ion-icon>\\n      </ion-button>\\n      <ion-textarea autoGrow=\\\"true\\\" style=\\\"height:100%\\\" (ionFocus)=\\\"scrollBottom()\\\" rows=\\\"1â—Š\\\"\\n        placeholder=\\\"Type your message\\\" [(ngModel)]=\\\"message\\\">\\n      </ion-textarea>\\n      <ion-button slot=\\\"end\\\" color=\\\"primary\\\" fill=\\\"clear\\\" (click)=\\\"send('text')\\\" [disabled]=\\\"!message\\\">\\n        <ion-icon name=\\\"send\\\"></ion-icon>\\n      </ion-button>\\n    </ion-item>\\n  </ion-toolbar>\\n</ion-footer>\\n\\n<input\\n  hidden\\n  #fileInputButton\\n  type=\\\"file\\\"\\n  (change)=\\\"detectFiles($event)\\\"\\n  multiple\\n/>\\n<input hidden #videoInputButton type=\\\"file\\\" (change)=\\\"detectVideo($event)\\\" />\"","export default \".container {\\n  padding: 30px;\\n}\\n\\np {\\n  margin: 0;\\n  text-align: center;\\n  margin-top: 9px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNib29rL0Rlc2t0b3AvQ2xpZW50cy9kci9zcmMvYXBwL2NvbXBvbmVudC91cGxvYWQtcHJvZ3Jlc3MvdXBsb2FkLXByb2dyZXNzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnQvdXBsb2FkLXByb2dyZXNzL3VwbG9hZC1wcm9ncmVzcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7QUNDSjs7QURFQTtFQUNJLFNBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudC91cGxvYWQtcHJvZ3Jlc3MvdXBsb2FkLXByb2dyZXNzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMzBweDtcbn1cblxucCB7XG4gICAgbWFyZ2luOiAwO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tdG9wOiA5cHg7XG59IiwiLmNvbnRhaW5lciB7XG4gIHBhZGRpbmc6IDMwcHg7XG59XG5cbnAge1xuICBtYXJnaW46IDA7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLXRvcDogOXB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { FirestoreService } from 'src/shared/services/firestore/firestore.service';\n\n@Component({\n  selector: 'app-upload-progress',\n  templateUrl: './upload-progress.component.html',\n  styleUrls: ['./upload-progress.component.scss'],\n})\nexport class UploadProgressComponent implements OnInit {\n\n  percentage = 0;\n\n  constructor(\n    private firestore: FirestoreService,\n    private modalCtrl: ModalController\n  ) { \n    this.firestore.progressVal.subscribe(val => {\n      this.percentage = val;\n      if(this.percentage === 100) {\n        this.modalCtrl.dismiss();\n      }\n    });\n  }\n\n  ngOnInit() {}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { GroupPage } from './group.page';\nimport { SharedModule } from 'src/shared/shared.module';\nimport { UploadProgressComponent } from 'src/app/component/upload-progress/upload-progress.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: GroupPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    SharedModule\n  ],\n  declarations: [GroupPage, UploadProgressComponent],\n  entryComponents: [UploadProgressComponent]\n})\nexport class GroupPageModule {}\n","export default \".system-msg {\\n  text-align: center;\\n  color: #ccc;\\n  font-size: 14px;\\n}\\n\\nion-textarea {\\n  font-size: 14px;\\n  resize: both;\\n  border-radius: 4px;\\n  border: 2px solid #eee;\\n  padding: 0px 8px;\\n}\\n\\n.msg-header {\\n  text-align: left;\\n  border-bottom: 1px dashed lightgray;\\n  padding-bottom: 12px;\\n}\\n\\n.msg-header img {\\n  width: 30px;\\n  height: 30px;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  float: left;\\n  margin-right: 10px;\\n  border-radius: 50%;\\n}\\n\\n.msg-header .msg-name {\\n  margin: 0;\\n  display: inline;\\n  font-weight: 600;\\n  position: relative;\\n  top: 2px;\\n  font-size: 13px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNib29rL0Rlc2t0b3AvQ2xpZW50cy9kci9zcmMvYXBwL3BhZ2VzL2dyb3VwL2dyb3VwLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvZ3JvdXAvZ3JvdXAucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQ0FKOztBREdBO0VBQ0ksZUFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7QUNBSjs7QURHQTtFQUNJLGdCQUFBO0VBQ0EsbUNBQUE7RUFDQSxvQkFBQTtBQ0FKOztBREVJO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxvQkFBQTtLQUFBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7QUNBUjs7QURFSTtFQUNJLFNBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxlQUFBO0FDQVIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9ncm91cC9ncm91cC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5zeXN0ZW0tbXNne1xuICAgIHRleHQtYWxpZ246Y2VudGVyO1xuICAgIGNvbG9yOiNjY2M7XG4gICAgZm9udC1zaXplOiAxNHB4O1xufVxuXG5pb24tdGV4dGFyZWF7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIHJlc2l6ZTogYm90aDtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgYm9yZGVyOiAycHggc29saWQgI2VlZTtcbiAgICBwYWRkaW5nOiAwcHggOHB4O1xufVxuXG4ubXNnLWhlYWRlciB7XG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggZGFzaGVkIGxpZ2h0Z3JheTtcbiAgICBwYWRkaW5nLWJvdHRvbTogMTJweDtcblxuICAgIGltZyB7XG4gICAgICAgIHdpZHRoOiAzMHB4O1xuICAgICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgfVxuICAgIC5tc2ctbmFtZSB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgZGlzcGxheTogaW5saW5lO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHRvcDogMnB4O1xuICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgfVxufSIsIi5zeXN0ZW0tbXNnIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogI2NjYztcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG5pb24tdGV4dGFyZWEge1xuICBmb250LXNpemU6IDE0cHg7XG4gIHJlc2l6ZTogYm90aDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBib3JkZXI6IDJweCBzb2xpZCAjZWVlO1xuICBwYWRkaW5nOiAwcHggOHB4O1xufVxuXG4ubXNnLWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGJvcmRlci1ib3R0b206IDFweCBkYXNoZWQgbGlnaHRncmF5O1xuICBwYWRkaW5nLWJvdHRvbTogMTJweDtcbn1cbi5tc2ctaGVhZGVyIGltZyB7XG4gIHdpZHRoOiAzMHB4O1xuICBoZWlnaHQ6IDMwcHg7XG4gIG9iamVjdC1maXQ6IGNvdmVyO1xuICBmbG9hdDogbGVmdDtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG4ubXNnLWhlYWRlciAubXNnLW5hbWUge1xuICBtYXJnaW46IDA7XG4gIGRpc3BsYXk6IGlubGluZTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDJweDtcbiAgZm9udC1zaXplOiAxM3B4O1xufSJdfQ== */\"","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { ActivatedRoute } from '@angular/router';\nimport { ActionSheetController, AlertController, IonContent, ModalController, NavController } from '@ionic/angular';\nimport { DataService } from 'src/app/services/data.service';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { ImageService } from 'src/app/services/image.service';\nimport { LoaderService } from 'src/app/services/loader.service';\nimport * as firebase from 'firebase/app';\nimport { FirestoreService } from 'src/shared/services/firestore/firestore.service';\nimport { Camera } from '@ionic-native/camera/ngx';\nimport { CommonService } from 'src/shared/services/common/common.service';\nimport { AuthService } from 'src/pages/auth/services/auth/auth.service';\nimport { IUser } from 'src/pages/auth/helpers/model';\nimport { UploadProgressComponent } from 'src/app/component/upload-progress/upload-progress.component';\n\n@Component({\n  selector: 'app-group',\n  templateUrl: './group.page.html',\n  styleUrls: ['./group.page.scss'],\n})\nexport class GroupPage implements OnInit {\n\n  // @ViewChild('content', null) content: ElementRef;\n  @ViewChild(IonContent, null) contentArea: IonContent;\n\n  title: any;\n  groupId: any;\n  message: any;\n  messages: any;\n  updateDateTime: any;\n  subscription: any;\n  messagesToShow: any;\n  startIndex: any = -1;\n  // Set number of messages to show.\n  numberOfMessages = 10;\n  currentUser: IUser;\n\n  @ViewChild(\"fileInputButton\", null) private fileInputButton: ElementRef;\n  @ViewChild(\"videoInputButton\", null) private videoInputButton: ElementRef;\n  @ViewChild('videoPlayer', null) videoPlayer: ElementRef;\n  // GroupPage\n  // This is the page where the user can chat with other group members and view group info.\n  constructor(\n    private dataProvider: DataService,\n    private modalCtrl: ModalController,\n    private angularfire: AngularFireDatabase,\n    private alertCtrl: AlertController,\n    private imageProvider: ImageService,\n    private loadingProvider: LoaderService,\n    private camera: Camera,\n    private actionSheet: ActionSheetController,\n    private geolocation: Geolocation,\n    private route: ActivatedRoute,\n    private navCtrl: NavController,\n    private firestore: FirestoreService,\n    private commonService: CommonService,\n    private authService: AuthService\n  ) { \n    this.route.queryParamMap.subscribe(params => {\n      this.groupId = params.get('groupId');\n    })\n  }\n\n  async ngOnInit() {\n    this.currentUser = await this.authService.getUser();\n    setTimeout(() => {\n      this.scrollBottom();\n    }, 5000);\n  }\n\n  ionViewDidEnter() {\n    // Get group details\n\n    this.subscription = this.dataProvider.getGroup(this.groupId).subscribe((group: any) => {\n      if (group) {\n        this.title = group.name;\n        // Get group messages\n        this.dataProvider.getGroupMessages(group.id).subscribe((messagesRes: any) => {\n          let messages = messagesRes;\n          if (messages == null || messages == undefined) messages = [];\n\n          if (this.messages != null && this.messages != undefined) {\n            // Just append newly added messages to the bottom of the view.\n\n            if (messages.length > this.messages.length) {\n              let message = messages[messages.length - 1];\n              this.dataProvider.getUser(message.sender).subscribe((user: any) => {\n                message.avatar = user.photoURL;\n                message.displayName = user.displayName;\n              });\n              this.messages.push(message);\n              // Also append to messagesToShow.\n              this.messagesToShow.push(message);\n              console.log('msgs', this.messagesToShow);\n            }\n          } else {\n            // Get all messages, this will be used as reference object for messagesToShow.\n            this.messages = [];\n            messages.forEach((message) => {\n              this.dataProvider.getUser(message.sender).subscribe((user: any) => {\n                if (user.id != null) {\n                  message.avatar = user.photoURL;\n                  message.displayName = user.displayName;\n                }\n              });\n              this.messages.push(message);\n            });\n            // Load messages in relation to numOfMessages.\n            if (this.startIndex == -1) {\n              // Get initial index for numberOfMessages to show.\n              if ((this.messages.length - this.numberOfMessages) > 0) {\n                this.startIndex = this.messages.length - this.numberOfMessages;\n              } else {\n                this.startIndex = 0;\n              }\n            }\n            if (!this.messagesToShow) {\n              this.messagesToShow = [];\n            }\n            // Set messagesToShow\n            for (var i = this.startIndex; i < this.messages.length; i++) {\n              this.messagesToShow.push(this.messages[i]);\n            }\n            this.loadingProvider.dismissLoader();\n          }\n        });\n      }\n    });\n\n    // Update messages' date time elapsed every minute based on Moment.js.\n    var that = this;\n    if (!that.updateDateTime) {\n      that.updateDateTime = setInterval(function () {\n        if (that.messages) {\n          that.messages.forEach((message) => {\n            message.date = new Date(message.date);\n          });\n        }\n      }, 60000);\n    }\n    setTimeout(() => this.scrollBottom(), 1000);\n  }\n\n  // Load previous messages in relation to numberOfMessages.\n  loadPreviousMessages() {\n    var that = this;\n    // Show loading.\n    this.loadingProvider.presentProcessingLoading();\n    setTimeout(function () {\n      // Set startIndex to load more messages.\n      if (that.startIndex - that.numberOfMessages > -1) {\n        that.startIndex -= that.numberOfMessages;\n      } else {\n        that.startIndex = 0;\n      }\n      // Refresh our messages list.\n      that.messages = null;\n      that.messagesToShow = null;\n      // Set scroll direction to top.\n      // Populate list again.\n      that.ionViewDidEnter();\n    }, 1000);\n  }\n\n  // Update messagesRead when user lefts this page.\n  ionViewWillLeave() {\n    if (this.messages)\n      this.setMessagesRead(this.messages);\n  }\n\n  // Check if currentPage is active, then update user's messagesRead.\n  setMessagesRead(messages) {\n    this.firestore.update('users/' + firebase.auth().currentUser.uid + '/groups/' + this.groupId, {\n      messagesRead: this.messages ? this.messages.length : 0\n    });\n  }\n\n  scrollBottom() {\n    console.log(\"Calling Sb\")\n    setTimeout(() => {\n      if (this.contentArea.scrollToBottom) {\n        this.contentArea.scrollToBottom();\n      }\n    }, 500);\n    this.setMessagesRead(this.messages);\n  }\n\n  scrollTop() {\n    console.log(\"Calling St\")\n    setTimeout(() => {\n      if (this.contentArea.scrollToTop) {\n        this.contentArea.scrollToTop();\n      }\n    }, 500);\n  }\n\n  // Check if the user is the sender of the message.\n  isSender(message) {\n    return message.sender == firebase.auth().currentUser.uid ? true : false;\n  }\n\n  // Check if the message is a system message.\n  isSystemMessage(message) {\n    return message.type == 'system' ? true : false;\n  }\n\n  // View user info\n  viewUser(userId) {\n    this.navCtrl.navigateForward('profile', {\n      queryParams: {\n        id: userId\n      }\n    });\n  }\n\n  // Send text message to the group.\n  send(type) {\n    // Clone an instance of messages object so it will not directly be updated.\n    // The messages object should be updated by our observer declared on ionViewDidLoad.\n    let messages = JSON.parse(JSON.stringify(this.messages));\n\n    let obj = {\n      date: new Date().toString(),\n      sender: firebase.auth().currentUser.uid,\n      type: type,\n      message: this.message,\n      id: this.firestore.createId()\n    }\n\n    // Update group messages.\n    this.firestore.set(`groups/${this.groupId}/messages/${obj.id}`, obj);\n    // this.dataProvider.getGroup(this.groupId).update({ messages: messages });\n    // Clear messagebox.\n    this.message = '';\n    this.scrollBottom();\n  }\n\n  enlargeImage(img) {\n    // this.modalCtrl.create({\n    //   component: ImagemodalPage,\n    //   componentProps: {\n    //     img: img\n    //   }\n    // }).then(res => res.present())\n  }\n\n  attach() {\n    this.actionSheet.create({\n      header: 'Choose attachments',\n      buttons: [{\n        text: 'Camera',\n        handler: () => {\n          console.log(\"take photo\");\n          if((window as any).cordova) {\n            this.imageProvider.uploadGroupPhotoMessage(this.groupId, this.camera.PictureSourceType.CAMERA).then((url) => {\n              // Process image message.\n              this.sendPhotoMessage(url);\n            });\n          } else {\n            (this.fileInputButton.nativeElement as HTMLInputElement).click();\n          }\n        }\n      }, {\n        text: 'Photo Library',\n        handler: () => {\n          console.log(\"Access gallery\");\n          if((window as any).cordova) {\n            this.imageProvider.uploadGroupPhotoMessage(this.groupId, this.camera.PictureSourceType.PHOTOLIBRARY).then((url) => {\n              // Process image message.\n              this.sendPhotoMessage(url);\n            });\n          } else {\n            (this.fileInputButton.nativeElement as HTMLInputElement).click();\n          }\n        }\n      }, {\n        text: 'Video',\n        handler: () => {\n          console.log(\"Video\");\n          if((window as any).cordova) {\n            this.imageProvider.uploadGroupVideoMessage(this.groupId).then(url => {\n              this.displayProgress();\n              this.firestore.uploadVideoString(url, `${Date.now()}-${this.currentUser.uid}`).then(link => {\n                // this.loadingProvider.dismissLoader();\n                this.sendVideoMessage(url);\n              })\n            }, err => {\n              this.loadingProvider.dismissLoader();\n            });\n          } else {\n            (this.videoInputButton.nativeElement as HTMLInputElement).click();\n          }\n        }\n      }, {\n        text: 'Location',\n        handler: () => {\n          console.log(\"Location\");\n          this.geolocation.getCurrentPosition({\n            timeout: 2000\n          }).then(res => {\n            let locationMessage = \"current location: lat:\" + res.coords.latitude + \" lng:\" + res.coords.longitude;\n            let mapUrl = \"<a href='https://www.google.com/maps/search/\" + res.coords.latitude + \",\" + res.coords.longitude + \"'>View on Map</a>\";\n            let confirm = this.alertCtrl.create({\n              header: 'Your Location',\n              message: locationMessage,\n              buttons: [{\n                text: 'cancel',\n                handler: () => {\n                  console.log(\"canceled\");\n                }\n              }, {\n                text: 'Share',\n                handler: () => {\n                  console.log(\"share\");\n                  this.message = locationMessage + \"<br>\" + mapUrl;\n                  this.send('location');\n                }\n              }]\n            }).then(r => r.present());\n          }, locationErr => {\n            console.log(\"Location Error\" + JSON.stringify(locationErr));\n          });\n        }\n      },\n      {\n        text: 'cancel',\n        role: 'cancel',\n        handler: () => {\n          console.log(\"cancelled\");\n        }\n      }]\n    }).then(r => r.present());\n  }\n  takePhoto() {\n    this.imageProvider.uploadGroupPhotoMessage(this.groupId, this.camera.PictureSourceType.CAMERA).then((url) => {\n      // Process image message.\n      this.sendPhotoMessage(url);\n    });\n  }\n\n  // Process photoMessage on database.\n  sendPhotoMessage(url) {\n    let messages = JSON.parse(JSON.stringify(this.messages));\n    let obj = {\n      date: new Date().toString(),\n      sender: firebase.auth().currentUser.uid,\n      type: 'image',\n      url: url,\n      id: this.firestore.createId()\n    };\n    this.firestore.set(`groups/${this.groupId}/messages/${obj.id}`, obj);\n    // this.dataProvider.getGroup(this.groupId).update({\n    //   messages: messages\n    // });\n    this.message = '';\n  }\n\n  sendVideoMessage(url) {\n    let messages = JSON.parse(JSON.stringify(this.messages));\n    let obj = {\n      date: new Date().toString(),\n      sender: firebase.auth().currentUser.uid,\n      type: 'video',\n      url: url,\n      id: this.firestore.createId()\n    };\n    this.firestore.set(`groups/${this.groupId}/messages/${obj.id}`, obj);\n    this.scrollBottom();\n    // this.dataProvider.getGroup(this.groupId).update({\n    //   messages: messages\n    // });\n    this.message = '';\n  }\n\n  // View group info.\n  groupInfo() {\n    // this.router.navigateByUrl('/groupinfo/' + this.groupId);\n    this.navCtrl.navigateForward('group-info', {\n      queryParams: {\n        id: this.groupId\n      }\n    });\n  }\n\n  public detectFiles(event: any) {\n    this.loadingProvider.presentProcessingLoading();\n    this.commonService.getImagesFromFiles(event).then((images) => {\n      console.log('images', images);\n      (this.fileInputButton.nativeElement as HTMLInputElement).value = null;\n      images.forEach(imageData => {\n        this.firestore.uploadImage(imageData, new Date().getTime().toString() + '.png', 'chat-images').then(resp => {\n          this.sendPhotoMessage(resp);\n          this.loadingProvider.dismissLoader();\n        });\n      }, err => {\n        this.loadingProvider.dismissLoader();\n      })\n    }, err => {\n      this.loadingProvider.dismissLoader();\n    });\n  }\n\n  /** used for browser image uploads, hooked up to input file type on change event */\n  public detectVideo(event: any) {\n    // this.loadingProvider.presentProcessingLoading();\n    this.commonService.getVideoFile(event).then((url: any) => {\n      this.firestore.progressVal.subscribe(val => {\n        console.log('group page %', val);\n      });\n      this.displayProgress();\n      this.firestore\n      .uploadVideoString(url, `${Date.now()}-${this.currentUser.uid}`)\n      .then(\n        async (link) => {\n          this.sendVideoMessage(link);\n          this.loadingProvider.dismissLoader();\n        },\n        (err) => {\n          this.loadingProvider.dismissLoader();\n        }\n      );\n    }, err => {\n      this.loadingProvider.dismissLoader();\n    });\n  }\n\n  test() {\n    alert('loaded');\n  }\n\n  async displayProgress() {\n    const modal = await this.modalCtrl.create({\n      component: UploadProgressComponent,\n      cssClass: 'upload-modal',\n      backdropDismiss: false\n    });\n    modal.present();\n  }\n\n\n}\n"],"sourceRoot":"webpack:///"}