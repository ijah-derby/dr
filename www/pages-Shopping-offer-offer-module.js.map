{"version":3,"sources":["./src/pages/Shopping/offer/offer.page.html","./src/pages/Shopping/offer/offer.module.ts","./src/pages/Shopping/offer/offer.page.scss","./src/pages/Shopping/offer/offer.page.ts"],"names":[],"mappings":"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","file":"pages-Shopping-offer-offer-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\" class=\\\"ion-no-padding ion-no-margin\\\">\\n      <ion-back-button class=\\\"ion-no-padding ion-no-margin\\\">\\n          <!-- <ion-icon style=\\\"color: black;font-size: 26px;margin-left: 4px;\\\" src=\\\"../../../assets/icons/chevron-back.svg\\\" (click)=\\\"goBack()\\\"></ion-icon> -->\\n      </ion-back-button>\\n      <ion-menu-button menu=\\\"shop\\\">\\n      </ion-menu-button>\\n    </ion-buttons>\\n\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button fill=\\\"clear\\\" class=\\\"shadow-0 txt1\\\" [routerLink]=\\\"'/search'\\\" routerDirection=\\\"forward\\\">\\n        <ion-icon name=\\\"search\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button fill=\\\"clear\\\" class=\\\"shadow-0 txt1\\\" [routerLink]=\\\"'/mycart'\\\" routerDirection=\\\"forward\\\">\\n        <ion-icon name=\\\"cart\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n\\n    <ion-title>Offer</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <h2 class=\\\"uppercase pdr-50 fw-600 spacing-1 txt1\\\">Products under our special promotional program.</h2>\\n\\n  <div class=\\\"mgt-20\\\">\\n    <ion-row>\\n      <ion-col size=\\\"6\\\" *ngFor=\\\"let item of list_offer\\\">\\n        <div class=\\\"item-prd mgb-30\\\">\\n          <div class=\\\"thumb\\\">\\n            <div class=\\\"discount fs-12 fw-600 pdt-5\\\">- {{item.payload.doc.data().discount}}%</div>\\n            <img src=\\\"{{item.payload.doc.data().thumb}}\\\" [routerLink]=\\\"['/detail', {id_item: item.payload.doc.id}]\\\" routerDirection=\\\"forward\\\">\\n            <ion-button size=\\\"small\\\" color=\\\"primary\\\" class=\\\"favo-btn bdra-0\\\" *ngIf=\\\"favo_str.search(item.payload.doc.id) > -1\\\" (click)=\\\"favorites(item)\\\">\\n              <ion-icon name=\\\"ios-heart\\\"></ion-icon>\\n            </ion-button>\\n            <ion-button size=\\\"small\\\" color=\\\"dark\\\" class=\\\"favo-btn bdra-0\\\" *ngIf=\\\"favo_str.search(item.payload.doc.id) < 0\\\" (click)=\\\"favorites(item)\\\">\\n              <ion-icon name=\\\"ios-heart\\\"></ion-icon>\\n            </ion-button>\\n          </div>\\n          <div class=\\\"ovfl-hidden\\\" [routerLink]=\\\"['/detail', {id_item: item.payload.doc.id}]\\\" routerDirection=\\\"forward\\\">\\n            <h4 class=\\\"fs-16 fw-600 ellipsis mgb-0 mgt-10\\\">{{item.payload.doc.data().name}}</h4>\\n            <p class=\\\"mgt-5 mgb-0\\\">\\n              <span class=\\\"ellipsis fs-14 txt3 mg-0 line-through mgr-10 fw-600\\\" *ngIf=\\\"currenciesProv\\\">\\n                <i *ngIf=\\\"currenciesProv\\\">\\n                  {{currenciesProv.formatMoney(item.payload.doc.data().price)}}\\n                </i>\\n              </span>\\n              <span class=\\\"ellipsis fs-14 txt1 mg-0 fw-600\\\" *ngIf=\\\"currenciesProv && item.payload.doc.data().discount > 0\\\">\\n                {{currenciesProv.formatMoney(item.payload.doc.data().price - item.payload.doc.data().price*item.payload.doc.data().discount/100)}}\\n              </span>\\n            </p>\\n          </div>\\n          <div class=\\\"mgt-10\\\">\\n            <ion-button size=\\\"small\\\" icon-left (click)=\\\"addCart(item)\\\" class=\\\"uppercase fs-11 bdra-0 fw-600\\\">\\n              <ion-icon name=\\\"ios-cart\\\"></ion-icon>\\n              Add to cart\\n            </ion-button>\\n          </div>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n  </div>\\n\\n  <br>\\n\\n  <ion-infinite-scroll (ionInfinite)=\\\"loadMore($event)\\\">\\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n\\n</ion-content>\\n\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OfferPage } from './offer.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OfferPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [OfferPage]\n})\nexport class OfferPageModule {}\n","export default \".item-prd .thumb {\\n  position: relative;\\n  height: 150px;\\n}\\n.item-prd .thumb img {\\n  height: 100%;\\n  min-width: 100%;\\n}\\n.item-prd .thumb .discount {\\n  z-index: 100;\\n  position: absolute;\\n  top: 10px;\\n  left: 0px;\\n  height: 25px;\\n  width: 80px;\\n  overflow: hidden;\\n}\\n.item-prd .thumb .discount:before {\\n  content: \\\"\\\";\\n  background: var(--ion-background-color);\\n  display: block;\\n  height: 200%;\\n  width: 180%;\\n  margin-left: -100px;\\n  transform: rotate(-15deg);\\n  position: absolute;\\n  z-index: -1;\\n}\\n.item-prd .thumb .favo-btn {\\n  z-index: 10;\\n  position: absolute;\\n  right: 10px;\\n  bottom: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNib29rL0Rlc2t0b3AvQ2xpZW50cy9kci9zcmMvcGFnZXMvU2hvcHBpbmcvb2ZmZXIvb2ZmZXIucGFnZS5zY3NzIiwic3JjL3BhZ2VzL1Nob3BwaW5nL29mZmVyL29mZmVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQztFQUNDLGtCQUFBO0VBQ0EsYUFBQTtBQ0FGO0FEQ0U7RUFDQyxZQUFBO0VBQ0EsZUFBQTtBQ0NIO0FEQ0U7RUFDQyxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsU0FBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUNDSDtBREFHO0VBQ0MsV0FBQTtFQUNBLHVDQUFBO0VBQ0EsY0FBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtBQ0VKO0FEQ0U7RUFDQyxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtBQ0NIIiwiZmlsZSI6InNyYy9wYWdlcy9TaG9wcGluZy9vZmZlci9vZmZlci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaXRlbS1wcmR7XG5cdC50aHVtYntcblx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdFx0aGVpZ2h0OiAxNTBweDtcblx0XHRpbWd7XG5cdFx0XHRoZWlnaHQ6IDEwMCU7XG5cdFx0XHRtaW4td2lkdGg6IDEwMCU7XG5cdFx0fVxuXHRcdC5kaXNjb3VudHtcblx0XHRcdHotaW5kZXg6IDEwMDtcblx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHRcdHRvcDogMTBweDtcblx0XHRcdGxlZnQ6IDBweDtcblx0XHRcdGhlaWdodDogMjVweDtcblx0XHRcdHdpZHRoOiA4MHB4O1xuXHRcdFx0b3ZlcmZsb3c6IGhpZGRlbjtcblx0XHRcdCY6YmVmb3Jle1xuXHRcdFx0XHRjb250ZW50OiBcIlwiO1xuXHRcdFx0XHRiYWNrZ3JvdW5kOiB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvcik7XG5cdFx0XHRcdGRpc3BsYXk6IGJsb2NrO1xuXHRcdFx0XHRoZWlnaHQ6IDIwMCU7XG5cdFx0XHRcdHdpZHRoOiAxODAlO1xuXHRcdFx0XHRtYXJnaW4tbGVmdDogLTEwMHB4O1xuXHRcdFx0XHR0cmFuc2Zvcm06IHJvdGF0ZSgtMTVkZWcpO1xuXHRcdFx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdFx0XHRcdHotaW5kZXg6IC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQuZmF2by1idG57XG5cdFx0XHR6LWluZGV4OiAxMDtcblx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHRcdHJpZ2h0OiAxMHB4O1xuXHRcdFx0Ym90dG9tOiA1cHg7XG5cdFx0fVxuXHR9XG59IiwiLml0ZW0tcHJkIC50aHVtYiB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgaGVpZ2h0OiAxNTBweDtcbn1cbi5pdGVtLXByZCAudGh1bWIgaW1nIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBtaW4td2lkdGg6IDEwMCU7XG59XG4uaXRlbS1wcmQgLnRodW1iIC5kaXNjb3VudCB7XG4gIHotaW5kZXg6IDEwMDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDEwcHg7XG4gIGxlZnQ6IDBweDtcbiAgaGVpZ2h0OiAyNXB4O1xuICB3aWR0aDogODBweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbi5pdGVtLXByZCAudGh1bWIgLmRpc2NvdW50OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIGJhY2tncm91bmQ6IHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGhlaWdodDogMjAwJTtcbiAgd2lkdGg6IDE4MCU7XG4gIG1hcmdpbi1sZWZ0OiAtMTAwcHg7XG4gIHRyYW5zZm9ybTogcm90YXRlKC0xNWRlZyk7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogLTE7XG59XG4uaXRlbS1wcmQgLnRodW1iIC5mYXZvLWJ0biB7XG4gIHotaW5kZXg6IDEwO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAxMHB4O1xuICBib3R0b206IDVweDtcbn0iXX0= */\"","import { Component, OnInit } from \"@angular/core\";\nimport {\n  LoadingController,\n  ToastController,\n  Events,\n  NavController,\n} from \"@ionic/angular\";\nimport { Storage } from \"@ionic/storage\";\nimport { ProductsProvider } from \"../providers/products\";\nimport { FavoritesProvider } from \"../providers/favorites\";\nimport { CurrenciesProvider } from \"../providers/currencies\";\nimport { IUser } from \"src/pages/auth/helpers/model\";\nimport { AuthService } from \"src123/pages/auth/services/auth/auth.service\";\n\n@Component({\n  selector: \"app-offer\",\n  templateUrl: \"./offer.page.html\",\n  styleUrls: [\"./offer.page.scss\"],\n})\nexport class OfferPage implements OnInit {\n  list_offer: any;\n  loading: any;\n  start: any;\n  id_user: any;\n  favo_str: string = \"\";\n  id_favo_str: any;\n  list_cart: Array<any>;\n\n  constructor(\n    public events: Events,\n    public toastCtrl: ToastController,\n    public loadingCtrl: LoadingController,\n    public productsProv: ProductsProvider,\n    private storage: Storage,\n    public favoritesProv: FavoritesProvider,\n    public currenciesProv: CurrenciesProvider,\n    private navCtrl: NavController,\n    private authService: AuthService\n  ) {\n    this.presentLoading();\n\n    this.productsProv.getProductByOffer(null, 4).then(\n      (data) => {\n        this.loading.dismiss().then(() => {\n          this.list_offer = data;\n          if (data && data.length > 0) {\n            this.start = data[data.length - 1].payload.doc.data().discount;\n            console.log(this.list_offer);\n          }\n        });\n      },\n      (error) => {}\n    );\n\n    this.storage.get(\"cart_list\").then((val) => {\n      if (!val || val == null) {\n        this.list_cart = new Array();\n      } else {\n        this.list_cart = val;\n      }\n      console.log(this.list_cart);\n    });\n\n    this.events.subscribe(\"cart_list: change\", (lst) => {\n      this.list_cart = lst;\n    });\n  }\n\n  ionViewWillEnter() {}\n\n  loadMore(event) {\n    this.productsProv.getProductByOffer(this.start, 2).then(\n      (data) => {\n        this.list_offer = this.list_offer.concat(data);\n        console.log(data);\n        if (data.length > 0) {\n          this.start = data[data.length - 1].payload.doc.data().discount;\n        }\n        console.log(this.list_offer);\n\n        setTimeout(() => {\n          event.target.disabled = true;\n        }, 1500);\n      },\n      (error) => {\n        setTimeout(() => {\n          event.target.disabled = true;\n        }, 1500);\n      }\n    );\n  }\n\n  favorites(item) {\n    console.log(item.payload.doc.id);\n    let check = this.favo_str.indexOf(item.payload.doc.id);\n    if (check == -1) {\n      this.favo_str = this.favo_str + item.payload.doc.id + \" \";\n    } else {\n      this.favo_str = this.favo_str.replace(item.payload.doc.id + \" \", \"\");\n    }\n    this.favoritesProv\n      .favoritesAdd(this.favo_str, this.id_user, this.id_favo_str)\n      .then((data) => {\n        if (!this.id_favo_str || this.id_favo_str == null) {\n          this.favoritesProv.getByUserId(this.id_user).then((newFavo) => {\n            this.id_favo_str = newFavo[0].payload.doc.id;\n          });\n        }\n      });\n  }\n\n  addCart(item) {\n    console.log(item);\n\n    let itemCv = {\n      id: item.payload.doc.id,\n      name: item.payload.doc.data().name,\n      price: item.payload.doc.data().price,\n      discount: item.payload.doc.data().discount,\n      description: item.payload.doc.data().description,\n      vote: item.payload.doc.data().vote,\n      created: item.payload.doc.data().created,\n      id_cat: item.payload.doc.data().id_cat,\n      tag: item.payload.doc.data().tag,\n      thumb: item.payload.doc.data().thumb,\n      thumb1: item.payload.doc.data().thumb1,\n      thumb2: item.payload.doc.data().thumb2,\n      thumb3: item.payload.doc.data().thumb3,\n      thumb4: item.payload.doc.data().thumb4,\n      quantity: 1,\n    };\n\n    let temp = this.list_cart.filter((element) => {\n      if (element.id == itemCv.id) {\n        element.quantity = 1 + element.quantity;\n        return true;\n      }\n    });\n    console.log(temp);\n    if (temp.length == 0) {\n      this.list_cart = this.list_cart.concat(itemCv);\n    }\n\n    this.presentToast();\n\n    // this.list_cart = new Array();\n    this.events.publish(\"cart_list: change\", this.list_cart);\n    this.storage.set(\"cart_list\", this.list_cart);\n    console.log(this.list_cart);\n  }\n\n  async presentLoading() {\n    this.loading = await this.loadingCtrl.create({\n      message: \"waiting\",\n      duration: 2000,\n    });\n    return await this.loading.present();\n  }\n  async presentToast() {\n    const toast = await this.toastCtrl.create({\n      message: \"added success\",\n      duration: 2000,\n      position: \"top\",\n    });\n    toast.present();\n  }\n\n  async ngOnInit() {\n    // let currentUser: IUser = await this.authService.getUser();\n    // this.id_user = currentUser.uid;\n    // this.favoritesProv.getByUserId(this.id_user).then(data => {\n    // \tif(data.length > 0){\n    // \t\tthis.favo_str = data[0].payload.doc.data().id_product;\n    // \t\tthis.id_favo_str = data[0].payload.doc.id;\n    // \t\tconsole.log(data);\n    // \t}\n    // })\n  }\n\n  goBack() {\n    this.navCtrl.back();\n  }\n}\n"],"sourceRoot":"webpack:///"}